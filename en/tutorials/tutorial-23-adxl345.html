<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta http-equiv="pragma" content="no-cache"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"> <meta name="author" content="webduino.io"> <meta name="copyright" content="webduino.io"> <meta itemprop="name" content="webduino.io"> <link rel="icon" href="../../img/layout/favicon.ico" type="image/x-icon"> <title>Project Example 23: ADXL345 – 3-axis accelerometer :::: Webduino = Web × Arduino</title> <meta name="description" content="An accelerometer uses the acceleration of the three axes to determine its angle of rotation. In this project example we will be using a Webduino to control an ADXL345, a 3 axis accelerometer. We can choose to use the I2C or SPI protocol for data transfer, as the Arduino analog uses I2C. For this tutorial we will be using GND, VCC, CS, SDA and SCL."> <meta itemprop="description" content="An accelerometer uses the acceleration of the three axes to determine its angle of rotation. In this project example we will be using a Webduino to control an ADXL345, a 3 axis accelerometer. We can choose to use the I2C or SPI protocol for data transfer, as the Arduino analog uses I2C. For this tutorial we will be using GND, VCC, CS, SDA and SCL."> <meta property="og:description" content="An accelerometer uses the acceleration of the three axes to determine its angle of rotation. In this project example we will be using a Webduino to control an ADXL345, a 3 axis accelerometer. We can choose to use the I2C or SPI protocol for data transfer, as the Arduino analog uses I2C. For this tutorial we will be using GND, VCC, CS, SDA and SCL."> <meta property="og:title" content="Project Example 23: ADXL345 – 3-axis accelerometer"> <meta property="og:url" content="https://webduino.io/tutorials/tutorial-23-adxl345.html"> <meta property="og:image" content="https://webduino.io/img/tutorials/tutorial-23-01s.jpg"> <meta itemprop="image" content="https://webduino.io/img/tutorials/tutorial-23-01s.jpg"> <script src="../../js/lib/jquery.min.js"></script> <script src="../../js/lib/jquery.lazyload.min.js"></script> <script src="../../js/lib/run_prettify.js"></script> <script src="../../js/layout.js"></script> <script src="../../js/tutorials-en.js"></script> <script src="../../js/lib/disqus.js"></script> <link rel="stylesheet" href="../../style/css/lib/tomorrow.css"> <link rel="stylesheet" href="../../style/css/layout.css"> <link rel="stylesheet" href="../../style/css/sub-header.css"> <link rel="stylesheet" href="../../style/css/tutorials-content.css"> <link rel="stylesheet" href="../../style/css/tutorials-en-content.css"> <link rel="stylesheet" href="../../style/css/lib/font-awesome.css"> <style>
.tutorials-content p{
	word-wrap:normal;
	word-break:normal;
}
</style> </head> <body> <header class="path-0"> <a class="logo" href="index.html" data-name="layout-header-logo"></a> <div class="mobile-menu"></div> <div class="menu"> <a href="index.html" class="index" data-name="layout-mobile-menu">Home</a> <a href="tutorials.html" class="tutorials" data-name="layout-mobile-menu">Tutorials</a> <a href="buy.html" class="buy" data-name="layout-mobile-men">Buy</a> <a href="about.html" class="about" data-name="layout-mobile-men">About us</a> <a href="../index.html" class="english" data-name="layout-mobile-men">中文</a> </div> </header> <header class="path-1"> <a class="logo" href="../index.html"></a> <div class="mobile-menu"></div> <div class="menu"> <a href="../index.html" class="index" data-name="layout-menu">Home</a> <a href="../tutorials.html" class="tutorials" data-name="layout-menu">Tutorials</a> <a href="../buy.html" class="buy" data-name="layout-menu">Buy</a> <a href="../about.html" class="about" data-name="layout-menu">About us</a> <a href="../../index.html" class="english" data-name="layout-mobile-men">中文</a> </div> </header> <div class="tutorials-content"> <div class="banner"> </div> <h1 id="project-example-23-adxl345-3-axis-accelerometer">Project Example 23: ADXL345 – 3-axis accelerometer</h1> <p>An accelerometer uses the acceleration of the three axes to determine its angle of rotation. In this project example we will be using a Webduino to control an ADXL345, a 3 axis accelerometer. We can choose to use the I2C or SPI protocol for data transfer, as the Arduino analog uses I2C. For this tutorial we will be using GND, VCC, CS, SDA and SCL.</p>  <h2 id="video-tutorial">Video Tutorial</h2>  <p>Check the video tutorial here: </p> <iframe class="youtube" src="https://www.youtube.com/embed/SH4-Z7E1DZc" frameborder="0" allowfullscreen=""></iframe> <h2 id="wiring-and-practice">Wiring and Practice</h2> <p>Connect VCC to 3.3V (careful, if the voltage is higher than 3.6V it will fry the chip), GND to GND, CS is also connected to VCC so the electric potential is the same for CS and VCC. This is to tell the chip to follow the I2C protocol. </p> <p>IN1 and IN2 are in charge of controlling the two output pins, and SDO is used with the SPI protocol. So we won&#39;t be using them in this example.</p> <p>Since we are using the I2C protocol we will need to add a pull-up resistor on the signal side. We add two 10k resistors here (on the Arduino’s official site it is recommended to use a 10k resistor as pull-up/pull-down resistors).</p> <p>Circuit diagram:</p> <p><img src="../../img/tutorials/tutorial-23-02.jpg"></p> <p>Reference image:</p> <p><img src="../../img/tutorials/tutorial-23-03.jpg"></p> <p><img src="../../img/tutorials/tutorial-23-04.jpg"></p> <p><img src="../../img/tutorials/tutorial-23-05.jpg"></p>  <h2 id="instructions-for-using-the-webduino-blockly">Instructions for using the Webduino Blockly</h2> <p>Open the <a href="https://blockly.webduino.io/?lang=en">Webduino Blocky editor</a>, click on the &quot;Web Demo Area&quot; on the upper right hand side and click on &quot;Show Text&quot; from the dropdown menu. (Remember, you need to burn the firmware for the 3 axis accelerometer. Check out the tutorial: <a href="info-07-arduino-ino.html">Arduino Firmware Download / burn</a>, choose GY291 or ADXL in the file name)</p> <p><img src="../../img/tutorials/en/tutorial-23-06.jpg"></p> <p>Place a &quot;Board&quot; block inside the workspace, fill in the name of your Webduino board, and place an &quot;ADXL345&quot; block inside the stack. Set the name to asxl345, the SDA pin to A4, and the SCL to A5.</p> <p><img src="../../img/tutorials/en/tutorial-23-07.jpg"></p> <p>Place a &quot;Start detecting&quot; in the stack and a &quot;Show&quot; block inside that, to show the value of what is being detected on the screen.</p> <p><img src="../../img/tutorials/en/tutorial-23-08.jpg"></p> <p>Because the 3 axis accelerometer will return 5 values (X, Y, Z, Roll, and Pitch), <strong>we must use a &quot;Create List&quot; block to show all of the values</strong>. Click on the blue gear to add 5 spaces, so 5 values can be shown at the same time.</p> <p><img src="../../img/tutorials/en/tutorial-23-09.jpg"></p> <p>Not only will we be showing the numbers, we also need to show what they mean! So, create a second level with a second set of &quot;Create List&quot; blocks. Place blocks to show the value names and the values detected by the accelerometer into these list blocks. In the &quot;Value&quot; block&#39;s drop-down menu you can decide what kind of values you want to use.</p> <p><img src="../../img/tutorials/en/tutorial-23-10.jpg"></p> <p>To prevent the text from being too big we use the &quot;Text Size&quot; block set to 20.</p> <p><img src="../../img/tutorials/en/tutorial-23-11.jpg"></p> <p>Check if the board is online (click &quot;<a href="https://webduino.io/device.html">Check Device Status</a>&quot;) and click on the red execution button &quot;Run Blocks&quot;. When turn the 3 axis accelerometer you can see the values showing on the Web Demo Area! (Solution: <a href="https://blockly.webduino.io/?lang=en#-KZdlc75acEollCJOVNl">https://blockly.webduino.io/?lang=en#-KZdlc75acEollCJOVNl</a> )</p> <p><img src="../../img/tutorials/en/tutorial-23-12.jpg"></p> <p>##Code Explanation (<a href="http://bin.webduino.io/lizuv/edit?html,css,js,output">Check Webduino Bin</a>, <a href="https://webduino.io/device.html">Check Device Status</a>)</p> <p>Include <code>webduino-all.min.js</code> in the header of your html files in order to support all of the Webduino&#39;s components. If the codes are generated by Webduino Blockly, you also have to include <code>webduino-blockly.js</code> in your files.</p> <pre><code>&lt;script src=&quot;https://webduino.io/components/webduino-js/dist/webduino-all.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://webduinoio.github.io/webduino-blockly/webduino-blockly.js&quot;&gt;&lt;/script&gt;
</code></pre><p>There is only a span inside the HTML used to show the values of the 3-axis accelerometer. Because we only have one span, we needed the &quot;Create List&quot; block. (If you are familiar with HTML, we could also have 5 spans here.)</p> <pre><code>&lt;span id=&quot;demo-area-01-show&quot;&gt;123&lt;/span&gt;
</code></pre><p>JavaScript uses the <code>on</code> method, inside there is a function with 5 parameters, these 5 parameters are the 5 values of the 3 axis accelerometer. Using <code>innerHTML</code> to add the strings together, we can use these 5 values to show them in the span.</p> <pre><code>var adxl;

boardReady(&#39;&#39;, function (board) {
  board.samplingInterval = 20;
  adxl = getADXL345(board);
  document.getElementById(&quot;demo-area-01-show&quot;).style.fontSize = 20+&quot;px&quot;;
  adxl.setSensitivity = 0;
  adxl.setBaseAxis = &quot;x&quot;;
  adxl.on(function(_x,_y,_z,_r,_p){
    adxl._x = _x;
    adxl._y = _y;
    adxl._z = _z;
    adxl._r = _r;
    adxl._p = _p;
    document.getElementById(&quot;demo-area-01-show&quot;).innerHTML = ([String(&#39;X=&#39;) + String(adxl._x),String(&#39;, Y=&#39;) + String(adxl._y),String(&#39;, Z=&#39;) + String(adxl._z),String(&#39;, roll=&#39;) + String(adxl._r),String(&#39;, pitch=&#39;) + String(adxl._p)].join(&#39;&#39;));
  });
});
</code></pre><p>Here&#39;s how to control a 3 axis accelerometer – ADXL345 and an intro to it&#39;s code.<br>Webduino Bin: <a href="http://bin.webduino.io/lizuv/edit?html,css,js,output">http://bin.webduino.io/lizuv/edit?html,css,js,output</a><br>Stack setup: <a href="https://blockly.webduino.io/?lang=en#-KZdmvtd1QQFmPZRorSu">https://blockly.webduino.io/?lang=en#-KZdmvtd1QQFmPZRorSu</a></p>  <a class="arrow arrow-r pre-next-button" data-name="pre-next-arrow"></a> <a class="arrow arrow-l pre-next-button" data-name="pre-next-arrow"></a> <div class="pre-next"> <div> <div class="pre"></div> <div class="next"></div> </div> </div> <div class="note-chicken"></div> <div class="others"> <i class="fa fa-times note-close-btn"></i> <h5>More information : </h5> <div class="others-link otehrs-read"> 1. Tutorials : <a href="https://webduino.io/en/tutorials.html" data-name="noteLink">https://webduino.io/tutorials.html</a> <br> 2. Blockly : <a href="https://goo.gl/Y8sRkl" data-name="noteLink">https://goo.gl/Y8sRkl</a> <br> 3. Products : <a href="https://webduino.io/buy.html" target="_blank" data-name="noteLink">https://webduino.io/buy.html <i class="fa fa-share-square-o"></i></a> <br> 4. Store : <a href="http://goo.gl/0Dj9ip" target="_blank" data-name="noteLink">http://goo.gl/0Dj9ip <i class="fa fa-share-square-o"></i></a> </div> </div> </div> <div class="disqus"> <div id="disqus_thread"></div> </div> <footer class="en"> <div class="logo"> <a href="index.html" data-name="layout-footer-logo"><i></i></a> <a href="../index.html" data-name="layout-footer-logo"><i></i></a> </div> <h4>Copyright 2017 | All Rights Reserved. Powered by Webduino</h4> <h4 style="padding-bottom: 20px;">2F-6, No.12, Fuxing 4th Rd., Qianzhen Dist., Kaohsiung City 806, Taiwan (R.O.C.) / 886-7-3388511</h4> </footer> <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-62202920-1', 'auto');
  ga('send', 'pageview');

</script> </body> </html>