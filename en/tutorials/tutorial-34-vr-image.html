<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta http-equiv="pragma" content="no-cache"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"> <meta name="author" content="webduino.io"> <meta name="copyright" content="webduino.io"> <meta itemprop="name" content="webduino.io"> <link rel="icon" href="../../img/layout/favicon.ico" type="image/x-icon"> <title>Project Example 34: Changing image position with a Potentiometer :::: Webduino = Web × Arduino</title> <meta name="description" content="In “Project Example 17: Determine light levels with a photocell” we introduced how to use a photocell. The Potentiometer block uses a similar method, in this tutorial we change the position of an image by turning a knob on a Potentiometer."> <meta itemprop="description" content="In “Project Example 17: Determine light levels with a photocell” we introduced how to use a photocell. The Potentiometer block uses a similar method, in this tutorial we change the position of an image by turning a knob on a Potentiometer."> <meta property="og:description" content="In “Project Example 17: Determine light levels with a photocell” we introduced how to use a photocell. The Potentiometer block uses a similar method, in this tutorial we change the position of an image by turning a knob on a Potentiometer."> <meta property="og:title" content="Project Example 34: Changing image position with a Potentiometer"> <meta property="og:url" content="https://webduino.io/tutorials/tutorial-34-vr-image.html"> <meta property="og:image" content="https://webduino.io/img/tutorials/tutorial-34-01s.jpg"> <meta itemprop="image" content="https://webduino.io/img/tutorials/tutorial-34-01s.jpg"> <script src="../../js/lib/jquery.min.js"></script> <script src="../../js/lib/jquery.lazyload.min.js"></script> <script src="../../js/lib/run_prettify.js"></script> <script src="../../js/layout.js"></script> <script src="../../js/tutorials-en.js"></script> <script src="../../js/lib/disqus.js"></script> <link rel="stylesheet" href="../../style/css/lib/tomorrow.css"> <link rel="stylesheet" href="../../style/css/layout.css"> <link rel="stylesheet" href="../../style/css/sub-header.css"> <link rel="stylesheet" href="../../style/css/tutorials-content.css"> <link rel="stylesheet" href="../../style/css/tutorials-en-content.css"> <link rel="stylesheet" href="../../style/css/lib/font-awesome.css"> <style>
.tutorials-content p{
	word-wrap:normal;
	word-break:normal;
}
</style> </head> <body> <header class="path-0"> <a class="logo" href="index.html" data-name="layout-header-logo"></a> <div class="mobile-menu"></div> <div class="menu"> <a href="index.html" class="index" data-name="layout-mobile-menu">Home</a> <a href="tutorials.html" class="tutorials" data-name="layout-mobile-menu">Tutorials</a> <a href="buy.html" class="buy" data-name="layout-mobile-men">Buy</a> <a href="about.html" class="about" data-name="layout-mobile-men">About us</a> <a href="../index.html" class="english" data-name="layout-mobile-men">中文</a> </div> </header> <header class="path-1"> <a class="logo" href="../index.html"></a> <div class="mobile-menu"></div> <div class="menu"> <a href="../index.html" class="index" data-name="layout-menu">Home</a> <a href="../tutorials.html" class="tutorials" data-name="layout-menu">Tutorials</a> <a href="../buy.html" class="buy" data-name="layout-menu">Buy</a> <a href="../about.html" class="about" data-name="layout-menu">About us</a> <a href="../../index.html" class="english" data-name="layout-mobile-men">中文</a> </div> </header> <div class="tutorials-content"> <div class="banner"> </div> <h1 id="project-example-34-changing-image-position-with-a-potentiometer">Project Example 34: Changing image position with a Potentiometer</h1> <p>In <a href="tutorial-17-photocell.html">Project Example 17: Determine light levels with a photocell</a> we introduced how to use a photocell. The Potentiometer block uses a similar method, in this tutorial we change the position of an image by turning a knob on a Potentiometer. </p>  <h2 id="video-tutorial">Video Tutorial</h2> <p>Watch the video tutorial here:</p> <iframe class="youtube" src="https://www.youtube.com/embed/Q5ErAOdnfCo" frameborder="0" allowfullscreen=""></iframe> <h2 id="wiring-and-practice">Wiring and Practice</h2> <p>A Potentiometer has three pins, when the pins are facing away from you the one on the left is connected to 3.3V and the one on the right is connect to the GND, remember to use a resistor to prevent a short circuit, which will happen when you have very low resistance. The pin in the middle is an analog signal pin, and will be connected to A3. (If your 3.3V and GND pins are connected in reverse, the values produced will be reversed when you turn the knob on the Potentiometer)</p> <p>Webduino Mark 1 Circuit Diagram:</p> <p><img src="../../img/tutorials/tutorial-34-02.jpg"></p> <p>Webduino Fly Circuit Diagram:</p> <p><img src="../../img/tutorials/tutorial-34-02-fly.jpg"></p> <p>Reference image:</p> <p><img src="../../img/tutorials/tutorial-34-03.jpg"></p> <p><img src="../../img/tutorials/tutorial-34-04.jpg"></p>  <h2 id="instructions-for-using-the-webduino-blockly">Instructions for using the Webduino Blockly</h2> <p>Open the <a href="https://blockly.webduino.io/?lang=en">Webduino Blockly editor</a>, and place a &quot;Board&quot; block into the workspace. Select the Webduino board name, then from the &quot;Sensor&quot; menu, place a Potentiometer block in the stack and set the pin to A3.</p> <p><img src="../../img/tutorials/en/tutorial-34-05.jpg"></p> <p>From the same menu place a &quot;detects / do&quot; block in the stack. We will round to the second decimal (a number between 0 to 1) and multiply it by 200, which will make the image&#39;s movements easier to see. To do this, add the blocks &quot;set to&quot; (from the &quot;Variable&quot; menu), a &quot;round decimal point&quot; (from the &quot;Math&quot; menu), and a &quot;photocell&#39;s value&quot; (from the &quot;Photocell / Potentiometer&quot; menu) to the stack. Set the first block to &quot;a&quot; to detect the value the sensor returns. Then set the second block to round to &quot;2&quot;. Next add a &quot;Image move&quot; block from the &quot;Control image menu&quot;. Place a Math block inside of that with a &quot;Variable&quot; block set to &quot;a&quot; multiplied by 200. </p> <p><img src="../../img/tutorials/en/tutorial-34-06.jpg"></p> <p>Once you confirm the board is online (click &quot;<a href="https://webduino.io/device.html">Check Device Status</a>&quot;), click on the red &quot;Run Blocks&quot; button to execute the stack, and turn the knob of the Potentiometer and you will see the image move horizontally.</p> <p>Solution <a href="http://blockly.webduino.io/?lang=en#-KYMH1nlaq9jlcoNbGIw">http://blockly.webduino.io/?lang=en#-KYMH1nlaq9jlcoNbGIw</a></p> <p>If your image is not moving the way you would want it to, here are a few troubleshooting tips.</p> <p>One: reverse the 3.3v and GND pins. </p> <p>Two: use a &quot;Math&quot; block to make 1 minus the value that is sensed by the potentiometer, giving you a reverse number in the range of 0 to 1.</p> <p><img src="../../img/tutorials/en/tutorial-34-07.jpg"></p> <p>##Code Explanation (<a href="https://bin.webduino.io/fayu/edit?html,css,js,output">Check Webduino Bin</a>, <a href="https://webduino.io/device.html">Check Device Status</a>)</p> <p>Include <code>webduino-all.min.js</code> in the header of your html files in order to support all of the Webduino&#39;s components. If the codes are generated by Webduino Blockly, you also have to include <code>webduino-blockly.js</code> in your files.</p> <pre><code>&lt;script src=&quot;https://webduino.io/components/webduino-js/dist/webduino-all.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://webduinoio.github.io/webduino-blockly/webduino-blockly.js&quot;&gt;&lt;/script&gt;
</code></pre><p>Inside the HTML file we have an image, if you&#39;d like to use your own image, place it after &quot;src=&quot;.</p> <pre><code>&lt;div id=&quot;demo-area-03-container&quot;&gt;
  &lt;img src=&quot;http://blockly.webduino.io/media/webduino-logo.jpg&quot; id=&quot;demo-area-03-image&quot;&gt;
&lt;/div&gt;
</code></pre><p>The way the image changes is because our image &quot;position&quot; is set to &quot;absolute&quot;, so we will need to set that as well.</p> <pre><code>#demo-area-03-container {
  position: relative;
  width: 150px;
  height: 150px;
}

#demo-area-03-image {
  position: absolute;
  top: 0;
  left: 0;
  width: 150px;
  height: 150px;
  transition: .3s;
  -webkit-transition: .3s;
  -moz-transition: .3s;
  transform-origin: 75px 75px;
  -webkit-transform-origin: 75px 75px;
  -moz-transform-origin: 75px 75px;
}
</code></pre><p>As for JavaScript, we receive data with &quot;on&quot; and return a &quot;val&quot;. </p> <pre><code>var photocell;
var a;

boardReady(&#39;&#39;, function (board) {
  board.systemReset();
  board.samplingInterval = 50;
  photocell = getPhotocell(board, 3);
  photocell.on(function(val){
    photocell.detectedVal = val;
    a = (Math.round((photocell.detectedVal)*100))/100;
    document.getElementById(&quot;demo-area-03-image&quot;).style.left = (a * 200)+&quot;px&quot;;
  });
});
</code></pre><p>Now you can change the position of an image when you turn the knob of a Potentiometer! Webduino Bin: <a href="https://bin.webduino.io/fayu/edit?html,css,js,output">https://bin.webduino.io/fayu/edit?html,css,js,output</a><br>Stack setup: <a href="http://blockly.webduino.io/?lang=en#-KYMHC-LWxdjQ63HX-r_">http://blockly.webduino.io/?lang=en#-KYMHC-LWxdjQ63HX-r_</a></p>  <a class="arrow arrow-r pre-next-button" data-name="pre-next-arrow"></a> <a class="arrow arrow-l pre-next-button" data-name="pre-next-arrow"></a> <div class="pre-next"> <div> <div class="pre"></div> <div class="next"></div> </div> </div> <div class="note-chicken"></div> <div class="others"> <i class="fa fa-times note-close-btn"></i> <h5>More information : </h5> <div class="others-link otehrs-read"> 1. Tutorials : <a href="https://webduino.io/en/tutorials.html" data-name="noteLink">https://webduino.io/tutorials.html</a> <br> 2. Blockly : <a href="https://goo.gl/Y8sRkl" data-name="noteLink">https://goo.gl/Y8sRkl</a> <br> 3. Products : <a href="https://webduino.io/buy.html" target="_blank" data-name="noteLink">https://webduino.io/buy.html <i class="fa fa-share-square-o"></i></a> <br> 4. Store : <a href="http://goo.gl/0Dj9ip" target="_blank" data-name="noteLink">http://goo.gl/0Dj9ip <i class="fa fa-share-square-o"></i></a> </div> </div> </div> <div class="disqus"> <div id="disqus_thread"></div> </div> <footer class="en"> <div class="logo"> <a href="index.html" data-name="layout-footer-logo"><i></i></a> <a href="../index.html" data-name="layout-footer-logo"><i></i></a> </div> <h4>Copyright 2017 | All Rights Reserved. Powered by Webduino</h4> <h4 style="padding-bottom: 20px;">2F-6, No.12, Fuxing 4th Rd., Qianzhen Dist., Kaohsiung City 806, Taiwan (R.O.C.) / 886-7-3388511</h4> </footer> <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-62202920-1', 'auto');
  ga('send', 'pageview');

</script> </body> </html>