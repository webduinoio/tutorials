<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta http-equiv="pragma" content="no-cache"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"> <meta name="author" content="webduino.io"> <meta name="copyright" content="webduino.io"> <meta itemprop="name" content="webduino.io"> <link rel="icon" href="../../img/layout/favicon.ico" type="image/x-icon"> <title>Project Example 24: Sending and receiving signals with an infrared sensor :::: Webduino = Web × Arduino</title> <meta name="description" content="We can find infrared sensors in the many electrical appliances in our daily life, such as TVs, air conditioners, remote controlled fans, toys… etc. Anything that is remote controlled, there's a pretty good chance that it is sending and receiving signals with an infrared sensor. This project example will show how to use the Webduino to send and receive information with an infrared sensor."> <meta itemprop="description" content="We can find infrared sensors in the many electrical appliances in our daily life, such as TVs, air conditioners, remote controlled fans, toys… etc. Anything that is remote controlled, there's a pretty good chance that it is sending and receiving signals with an infrared sensor. This project example will show how to use the Webduino to send and receive information with an infrared sensor."> <meta property="og:description" content="We can find infrared sensors in the many electrical appliances in our daily life, such as TVs, air conditioners, remote controlled fans, toys… etc. Anything that is remote controlled, there's a pretty good chance that it is sending and receiving signals with an infrared sensor. This project example will show how to use the Webduino to send and receive information with an infrared sensor."> <meta property="og:title" content="Project Example 24: Sending and receiving signals with an infrared sensor"> <meta property="og:url" content="https://webduino.io/tutorials/tutorial-24-ir.html"> <meta property="og:image" content="https://webduino.io/img/tutorials/tutorial-24-01s.jpg"> <meta itemprop="image" content="https://webduino.io/img/tutorials/tutorial-24-01s.jpg"> <script src="../../js/lib/jquery.min.js"></script> <script src="../../js/lib/jquery.lazyload.min.js"></script> <script src="../../js/lib/run_prettify.js"></script> <script src="../../js/layout.js"></script> <script src="../../js/tutorials-en.js"></script> <script src="../../js/lib/disqus.js"></script> <link rel="stylesheet" href="../../style/css/lib/tomorrow.css"> <link rel="stylesheet" href="../../style/css/layout.css"> <link rel="stylesheet" href="../../style/css/sub-header.css"> <link rel="stylesheet" href="../../style/css/tutorials-content.css"> <link rel="stylesheet" href="../../style/css/tutorials-en-content.css"> <link rel="stylesheet" href="../../style/css/lib/font-awesome.css"> <style>
.tutorials-content p{
	word-wrap:normal;
	word-break:normal;
}
</style> </head> <body> <header class="path-0"> <a class="logo" href="index.html" data-name="layout-header-logo"></a> <div class="mobile-menu"></div> <div class="menu"> <a href="index.html" class="index" data-name="layout-mobile-menu">Home</a> <a href="tutorials.html" class="tutorials" data-name="layout-mobile-menu">Tutorials</a> <a href="buy.html" class="buy" data-name="layout-mobile-men">Buy</a> <a href="about.html" class="about" data-name="layout-mobile-men">About us</a> <a href="../index.html" class="about" data-name="layout-mobile-men">中文</a> </div> </header> <header class="path-1"> <a class="logo" href="../index.html"></a> <div class="mobile-menu"></div> <div class="menu"> <a href="../index.html" class="index" data-name="layout-menu">Home</a> <a href="../tutorials.html" class="tutorials" data-name="layout-menu">Tutorials</a> <a href="../buy.html" class="buy" data-name="layout-menu">Buy</a> <a href="../about.html" class="about" data-name="layout-menu">About us</a> <a href="../../index.html" class="about" data-name="layout-mobile-men">中文</a> </div> </header> <div class="tutorials-content"> <div class="banner"> </div> <h1>Project Example 24: Sending and receiving signals with an infrared sensor</h1> <p>We can find infrared sensors in the many electrical appliances in our daily life, such as TVs, air conditioners, remote controlled fans, toys… etc. Anything that is remote controlled, there&#39;s a pretty good chance that it is sending and receiving signals with an infrared sensor. This project example will show how to use the Webduino to send and receive information with an infrared sensor.</p>  <h2>Video Tutorial</h2>  <p>Check the video tutorial here: <iframe class="youtube" src="https://www.youtube.com/embed/lfN0D4198CM" frameborder="0" allowfullscreen=""></iframe></p> <h2>Wiring and Practice</h2> <p>Connect the leg nearest to the &quot;-&quot;&quot; on the infrared sensor to GND, the middle leg to 3.3V, and the leg closest to S connects to pin 10. Since we only have one oscillator on the Arduino, <strong>we cannot simultaneously send and receive an infrared signal on the same board</strong>. If we need to test sending a signal we could use an infrared receiver to receive a signal from a TV remote control and then use the infrared transmitter to send a signal to the TV.</p> <p>infrared receive sensor Circuit diagram:</p> <p><img src="../../img/tutorials/tutorial-24-02.jpg"></p> <p>infrared receive sensor Reference image:</p> <p><img src="../../img/tutorials/tutorial-24-03.jpg"></p> <p><img src="../../img/tutorials/tutorial-24-04.jpg"></p> <p>The infrared transmitter looks like a large LED, if you&#39;re not paying attention you might even connect to the wrong pins. <strong>We have to use pin number 9, which accesses to the oscillator, to send a square wave with the infrared transmitter</strong>. So connecting the infrared transmitter to other pins will not work. Here we connect the longer leg to pin 9 and the shorter one to GND.</p> <p>infrared transmitter Circuit diagram:</p> <p><img src="../../img/tutorials/tutorial-24-05.jpg"></p>  <h2>Instructions for using the Webduino Blockly</h2> <p>Open the <a href="https://blockly.webduino.io/?lang=en">Webduino Blocky editor</a>, click on the &quot;Web Demo Area&quot; on the upper right hand side, and click on &quot;Show Text&quot; in the drop down menu. Don&#39;t forget, you need to burn the firmware for the infrared transmitter before you can proceed. (Check out the tutorial: <a href="info-07-arduino-ino.html">Ardiuno Firmware Download / Burn</a> and choose the file name with IR)</p> <p><img src="../../img/tutorials/en/tutorial-24-06.jpg"></p> <p>First, place a &quot;Board&quot; block into the workspace, fill in the name of your Webduino board, and place an &quot;IR&quot; block inside the stack. Then set the name to &quot;irrecv&quot; and the pin to 10.</p> <p><img src="../../img/tutorials/en/tutorial-24-07.jpg"></p> <p>Place a &quot;start receiving / do&quot;, a &quot;show&quot;, and a &quot;receive code&quot; block, so we can show the values on screen.</p> <p><img src="../../img/tutorials/en/tutorial-24-08.jpg"></p> <p>If we are sending an infrared signal, use the &quot;IR send&quot; block, set to &quot;irled&quot;, and the pin to 9.</p> <p><img src="../../img/tutorials/en/tutorial-24-09.jpg"></p> <p>We can also use different buttons on screen to send different infrared signals. Using this method we could potentially create a webpage that works as a virtual remote control.</p> <p><img src="../../img/tutorials/en/tutorial-24-10.jpg"></p> <p>Check if the board is online (click &quot;<a href="https://webduino.io/device.html">Check Device Status</a>&quot;) and click on the red execution button &quot;Run Blocks&quot;. Then you can start to receive or send infrared signals! (Solution: <a href="https://blockly.webduino.io/?lang=en#-KZdeUiX6sp1qxVxHt4V">https://blockly.webduino.io/?lang=en#-KZdeUiX6sp1qxVxHt4V</a>)</p> <h2>Code Explanation (<a href="http://bin.webduino.io/jiguh/edit?html,css,js,output">Check Webduino Bin</a>, <a href="https://webduino.io/device.html">Check Device Status</a>)</h2> <p>Include <code>webduino-all.min.js</code> in the header of your html files in order to support all of the Webduino&#39;s components. If the codes are generated by Webduino Blockly, you also have to include <code>webduino-blockly.js</code> in your files.</p> <pre><code>&lt;script src=&quot;https://webduino.io/components/webduino-js/dist/webduino-all.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://webduinoio.github.io/webduino-blockly/webduino-blockly.js&quot;&gt;&lt;/script&gt;
</code></pre><p>If we are using an infrared transmitter, there will only be a span inside the HTML code, to show the 3-axis accelerometer, and only because there is a span, we will need to use &quot;Create List&quot; block. (If you know how to write code, you could easily use 5 spans instead)</p> <pre><code>&lt;span id=&quot;demo-area-01-show&quot;&gt;123&lt;/span&gt;
</code></pre><p>If you&#39;re using an infrared transmitter, HTML will just be the buttons.</p> <pre><code>&lt;button id=&quot;demo-area-05-btn1&quot; class=&quot;db5&quot;&gt;按鈕 1&lt;/button&gt;
&lt;button id=&quot;demo-area-05-btn2&quot; class=&quot;db5&quot;&gt;按鈕 2&lt;/button&gt;
&lt;button id=&quot;demo-area-05-btn3&quot; class=&quot;db5&quot;&gt;按鈕 3&lt;/button&gt;
&lt;button id=&quot;demo-area-05-btn4&quot; class=&quot;db5&quot;&gt;按鈕 4&lt;/button&gt;
&lt;button id=&quot;demo-area-05-btn5&quot; class=&quot;db5&quot;&gt;按鈕 5&lt;/button&gt;
</code></pre><p>The IR Recv used <code>on</code> in JavaScript, there&#39;s a function with a parameter, used to receive the signal value and by using <code>innerHTML</code> to sum with strings, we can use this value to display inside the span.</p> <pre><code>var irrecv;

boardReady(&#39;&#39;, function (board) {
  board.samplingInterval = 20;
  irrecv = getIRRecv(board, 10);
  irrecv.on(function(val){
    irrecv.onVal = val;
    document.getElementById(&quot;demo-area-01-show&quot;).innerHTML = irrecv.onVal;
  },function(){});
});
</code></pre><p>As for the IR Send, it uses <code>send</code> to send signals, type in the message behind this and you can send them out.</p> <pre><code>var irled;

boardReady(&#39;&#39;, function (board) {
  board.samplingInterval = 20;
  irled = getIRLed(board, &quot;ffffffff&quot;);
  document.getElementById(&quot;demo-area-05-btn1&quot;).addEventListener(&quot;click&quot;,function(){
    irled.send(&quot;ffffffff&quot;);
  });
  document.getElementById(&quot;demo-area-05-btn2&quot;).addEventListener(&quot;click&quot;,function(){
    irled.send(&quot;ffffffff&quot;);
  });
  document.getElementById(&quot;demo-area-05-btn3&quot;).addEventListener(&quot;click&quot;,function(){
    irled.send(&quot;ffffffff&quot;);
  });
  document.getElementById(&quot;demo-area-05-btn4&quot;).addEventListener(&quot;click&quot;,function(){
    irled.send(&quot;ffffffff&quot;);
  });
  document.getElementById(&quot;demo-area-05-btn5&quot;).addEventListener(&quot;click&quot;,function(){
    irled.send(&quot;ffffffff&quot;);
  });
});
</code></pre><p>This is how we control an infrared sensor to send and receive information.<br>Webduino Bin: <a href="http://bin.webduino.io/jiguh/edit?html,css,js,output">http://bin.webduino.io/jiguh/edit?html,css,js,output</a><br>Stack setup: <a href="https://blockly.webduino.io/?lang=en#-KZdfQS23mis7qSo0vzQ">https://blockly.webduino.io/?lang=en#-KZdfQS23mis7qSo0vzQ</a></p>  <a class="arrow arrow-r pre-next-button" data-name="pre-next-arrow"></a> <a class="arrow arrow-l pre-next-button" data-name="pre-next-arrow"></a> <div class="pre-next"> <div> <div class="pre"></div> <div class="next"></div> </div> </div> <div class="note-chicken"></div> <div class="others"> <i class="fa fa-times note-close-btn"></i> <h5>More information : </h5> <div class="others-link otehrs-read"> 1. Tutorials : <a href="https://webduino.io/en/tutorials.html" data-name="noteLink">https://webduino.io/tutorials.html</a> <br> 2. Blockly : <a href="https://goo.gl/Y8sRkl" data-name="noteLink">https://goo.gl/Y8sRkl</a> <br> 3. Products : <a href="https://webduino.io/buy.html" target="_blank" data-name="noteLink">https://webduino.io/buy.html <i class="fa fa-share-square-o"></i></a> <br> 4. Store : <a href="http://goo.gl/0Dj9ip" target="_blank" data-name="noteLink">http://goo.gl/0Dj9ip <i class="fa fa-share-square-o"></i></a> </div> </div> </div> <div class="disqus"> <div id="disqus_thread"></div> </div> <footer> <div class="logo"> <a href="index.html" data-name="layout-footer-logo"><i></i></a> <a href="../index.html" data-name="layout-footer-logo"><i></i></a> </div> <h4>Copyright 2015 | All Rights Reserved. Power by Webduino.io</h4> <h4>1F., No.20, Fuxing 4th Rd., Qianzhen Dist., Kaohsiung City 806, Taiwan (R.O.C.) / 886-7-3388511</h4> </footer> <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-62202920-1', 'auto');
  ga('send', 'pageview');

</script> </body> </html>