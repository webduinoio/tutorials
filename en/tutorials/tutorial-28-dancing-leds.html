<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta http-equiv="pragma" content="no-cache"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"> <meta name="author" content="webduino.io"> <meta name="copyright" content="webduino.io"> <meta itemprop="name" content="webduino.io"> <link rel="icon" href="../../img/layout/favicon.ico" type="image/x-icon"> <title>Project Example 28: Knight Rider scanner lights (12 LEDs and for loops) :::: Webduino = Web × Arduino</title> <meta name="description" content="Everyone who learns code will eventually realize the beauty of “for loops”! In this tutorial, we will be using this simple technique to light up 12 LEDs alternately, controlling the speed of their flashing, and creating an effect like KITT's red scanner light from the Knight Rider TV show. (Ask your mom or dad if you've never heard of this famous American show from the 1980s. You might even need to ask your grandparents!)"> <meta itemprop="description" content="Everyone who learns code will eventually realize the beauty of “for loops”! In this tutorial, we will be using this simple technique to light up 12 LEDs alternately, controlling the speed of their flashing, and creating an effect like KITT's red scanner light from the Knight Rider TV show. (Ask your mom or dad if you've never heard of this famous American show from the 1980s. You might even need to ask your grandparents!)"> <meta property="og:description" content="Everyone who learns code will eventually realize the beauty of “for loops”! In this tutorial, we will be using this simple technique to light up 12 LEDs alternately, controlling the speed of their flashing, and creating an effect like KITT's red scanner light from the Knight Rider TV show. (Ask your mom or dad if you've never heard of this famous American show from the 1980s. You might even need to ask your grandparents!)"> <meta property="og:title" content="Project Example 28: Knight Rider scanner lights (12 LEDs and for loops)"> <meta property="og:url" content="https://webduino.io/tutorials/tutorial-28-dancing-leds.html"> <meta property="og:image" content="https://webduino.io/img/tutorials/tutorial-28-01s.jpg"> <meta itemprop="image" content="https://webduino.io/img/tutorials/tutorial-28-01s.jpg"> <script src="../../js/lib/jquery.min.js"></script> <script src="../../js/lib/jquery.lazyload.min.js"></script> <script src="../../js/lib/run_prettify.js"></script> <script src="../../js/layout.js"></script> <script src="../../js/tutorials-en.js"></script> <script src="../../js/lib/disqus.js"></script> <link rel="stylesheet" href="../../style/css/lib/tomorrow.css"> <link rel="stylesheet" href="../../style/css/layout.css"> <link rel="stylesheet" href="../../style/css/sub-header.css"> <link rel="stylesheet" href="../../style/css/tutorials-content.css"> <link rel="stylesheet" href="../../style/css/tutorials-en-content.css"> <link rel="stylesheet" href="../../style/css/lib/font-awesome.css"> <style>
.tutorials-content p{
	word-wrap:normal;
	word-break:normal;
}
</style> </head> <body> <header class="path-0"> <a class="logo" href="index.html" data-name="layout-header-logo"></a> <div class="mobile-menu"></div> <div class="menu"> <a href="index.html" class="index" data-name="layout-mobile-menu">Home</a> <a href="tutorials.html" class="tutorials" data-name="layout-mobile-menu">Tutorials</a> <a href="buy.html" class="buy" data-name="layout-mobile-men">Buy</a> <a href="about.html" class="about" data-name="layout-mobile-men">About us</a> <a href="../index.html" class="english" data-name="layout-mobile-men">中文</a> </div> </header> <header class="path-1"> <a class="logo" href="../index.html"></a> <div class="mobile-menu"></div> <div class="menu"> <a href="../index.html" class="index" data-name="layout-menu">Home</a> <a href="../tutorials.html" class="tutorials" data-name="layout-menu">Tutorials</a> <a href="../buy.html" class="buy" data-name="layout-menu">Buy</a> <a href="../about.html" class="about" data-name="layout-menu">About us</a> <a href="../../index.html" class="english" data-name="layout-mobile-men">中文</a> </div> </header> <div class="tutorials-content"> <div class="banner"> </div> <h1 id="project-example-28-knight-rider-scanner-lights-12-leds-and-for-loops-">Project Example 28: Knight Rider scanner lights (12 LEDs and for loops)</h1> <p>Everyone who learns code will eventually realize the beauty of &quot;for loops&quot;! In this tutorial, we will be using this simple technique to light up 12 LEDs alternately, controlling the speed of their flashing, and creating an effect like KITT&#39;s red scanner light from the Knight Rider TV show. (Ask your mom or dad if you&#39;ve never heard of this famous American show from the 1980s. You might even need to ask your grandparents!)</p>  <h2 id="video-tutorial">Video Tutorial</h2> <p>Check the video tutorial here:</p> <iframe class="youtube" src="https://www.youtube.com/embed/wwnmfd5Mc-Y" frameborder="0" allowfullscreen=""></iframe> <h2 id="wiring-and-practice">Wiring and Practice</h2> <p>We will be using 12 LEDs in this tutorial, the longer legs will use pins 2 to 13, and the shorter legs all be connected to GND.</p> <p>Reference image: <img src="../../img/tutorials/tutorial-28-02.jpg"></p> <p><img src="../../img/tutorials/en/tutorial-28-03.jpg"></p> <p><img src="../../img/tutorials/tutorial-28-04.jpg"></p> <p><img src="../../img/tutorials/en/tutorial-28-05.jpg"></p>  <h2 id="instructions-for-using-the-webduino-blockly">Instructions for using the Webduino Blockly</h2> <p>Open the <a href="https://blockly.webduino.io/?lang=en">Webduino Blockly Editor</a>, click the &quot;Web Demo Area&quot; on the upper right hand corner, and choose &quot;Slider&quot; from the drop down menu.</p> <p><img src="../../img/tutorials/en/tutorial-28-06.jpg"></p> <p>Place a board onto the workspace and enter your Webduino board’s name. Place three &quot;Set to&quot; blocks from &quot;Variables&quot; menu into the stack. Set the first variable to &quot;pinNum&quot; to represent the starting pin. The second variable should be set to &quot;addNum&quot;. This is the amount added each time a pin is changed (if the variable is set to 1, each pin in the sequence will only light up after the last pin turns off) The third variable must be set to &quot;time&quot; which is our change speed (here we will use 0.1 seconds). Be careful at this step, <strong>the variables we set here have not been linked to a specific LED yet. We will use these variables later on when we perform the links</strong>. For pin 2 to change to pin 13, we need a variable to keep count.</p> <p><img src="../../img/tutorials/en/tutorial-28-07.jpg"></p> <p>Next we set the &quot;Slider&quot; in the Web Demo menu. When we move the slider, it changes the value of &quot;time&quot; (this is why we set &quot;time&quot; as a variable, allowing us to change it dynamically.) Connect a &quot;Variable&quot; block set to &quot;Time&quot; to the &quot;Show value&quot; block. Then we set the minimum range value to 0.02 seconds and the maximum value to 0.2 seconds with an interval of 0.01 seconds. Also add another &quot;Time&quot; variable block as the &#39;default&#39; in the block. Last, within the &quot;Set range&quot; block, add &quot;Set Time to&quot; and &quot;Show value&quot; blocks with a &quot;Value&quot; block connected to each of them.</p> <p><img src="../../img/tutorials/en/tutorial-28-08.jpg"></p> <p>Next we will use the &quot;Loops&quot; blocks found under the &quot;Standard&quot; menu, and a &quot;Delay&quot; block found under &quot;Advanced&quot;.</p> <p><img src="../../img/tutorials/en/tutorial-28-09.jpg"></p> <p><img src="../../img/tutorials/en/tutorial-28-10.jpg"></p> <p>Setting the outermost &quot;Loop&quot; &quot;Repeat do&quot; block to &quot;while&quot; means it will continue to repeat until something happens. Unless a condition is set, it becomes an infinite loop. Because we want our Knight Rider scanner lights to loop endlessly, we won&#39;t set a condition for it to stop so we must leave the connection point empty. The second &quot;Loop&quot; block &quot;Repeat # times&quot; is set to 11. This means that the stack within it, setup as shown in the picture, will run 11 times. After it has run 11 times, it will set addNum to a negative. AddNum, which is +1, would become -1, allowing the scanner light to go from 2 to 13 and then 13 to 2. When it has finished its sequence, it will return to the outer Loop and come back again to run 11 times again, indefinitely.</p> <p>Now, inside the the inner &quot;Repeat&quot; loop block, place three &quot;Set pin to&quot; blocks, from the &quot;I/O Pins&quot; menu. Remember that pinNum is a number that will constantly change, we&#39;ve just set the default to 2. Then set the second to &quot;Next&quot; and the pin to be &quot;pinNum&quot; + &quot;addNum&quot; using a &quot;Math&quot; equation block. Add two &quot;Write value&quot; blocks from the &quot;I/O Pins&quot; menu and set the first to &quot;pin&quot; and 0, and the second to &quot;next&quot; and 1. This will make it so that when the LED 2 goes off the LED 3 turns on. Place the &quot;Delay&quot; block next in the stack, with the variable also set to &quot;time&quot;. For the last, &quot;Set to&quot; I/O block set the &quot;addNum&quot; to negative &quot;addNum&quot;. So now, when the loop finishes the next time LED 3 will turn off and LED 4 will light up, etc.</p> <p>If you&#39;re not familiar with the &quot;I/O Pins&quot; blocks, check out: <a href="info-10-pin.html">Webduino Board Pin Manipulation</a>.</p> <p><img src="../../img/tutorials/en/tutorial-28-11.jpg"></p> <p>Now we&#39;ve finished programming KITT&#39;s scanner lights from Knight Rider! Check if the board is online by clicking &quot;<a href="https://webduino.io/device.html">Check Device Status</a>&quot;. When you click on the red execution button &quot;Run Blocks&quot;, you will see the scanner lights sequentially move back and forth! You are also able to control the speed with the slider. Solution: <a href="http://blockly.webduino.io/?lang=en#-KZVjQFlRnrGBPjI14SU">http://blockly.webduino.io/?lang=en#-KZVjQFlRnrGBPjI14SU</a></p> <p>##Code Explanation (<a href="https://bin.webduino.io/xijim/edit?html,css,js,output">Check Webduino Bin</a>, <a href="https://webduino.io/device.html">Check Device Status</a>)</p> <p>Include <code>webduino-all.min.js</code> in the header of your html files in order to support all of the Webduino&#39;s components. If the codes are generated by Webduino Blockly, you also have to include <code>webduino-blockly.js</code> in your files. Because we are using async/await syntax in this tutorial, please include <code>runtime.min.js</code> in the header for supporting other browsers.</p> <pre><code>&lt;script src=&quot;https://webduino.io/components/webduino-js/dist/webduino-all.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://webduinoio.github.io/webduino-blockly/webduino-blockly.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://blockly.webduino.io/lib/runtime.min.js&quot;&gt;&lt;/script&gt;
</code></pre><p>Inside the HTML we see a span showing the value of the &quot;Subtle Control&quot; and a range &quot;Subtle Control&quot;.</p> <pre><code>Value：&lt;span id=&quot;demo-area-06-input-value&quot;&gt;90&lt;/span&gt;&lt;br&gt;
Slider：&lt;input type=&quot;range&quot; min=&quot;0&quot; max=&quot;180&quot; step=&quot;5&quot; value=&quot;90&quot; id=&quot;demo-area-06-input&quot;&gt;
</code></pre><p>JavaScript uses &quot;while&quot; and &quot;for&quot; loop to synchronize the &quot;for loops&quot;, if you will be using it on your own device, remember to select JavaScript from the drop-down menu on our ES6/Babel, and you’ll see the actual code.</p> <pre><code>(async function () {

var pinNum;
var addNum;
var time;
var pin;
var next;


boardReady(&#39;&#39;, async function (board) {
  board.samplingInterval = 250;
  pinNum = 2;
  addNum = 1;
  time = 0.1;
  document.getElementById(&quot;demo-area-06-input-value&quot;).innerHTML = time;
  document.getElementById(&quot;demo-area-06-input&quot;).setAttribute(&quot;min&quot;,0.02);
  document.getElementById(&quot;demo-area-06-input&quot;).setAttribute(&quot;max&quot;,0.2);
  document.getElementById(&quot;demo-area-06-input&quot;).setAttribute(&quot;step&quot;,0.01);
  document.getElementById(&quot;demo-area-06-input&quot;).setAttribute(&quot;value&quot;,time);
  document.getElementById(&quot;demo-area-06-input&quot;).oninput = async function(_value){
    _value = this.value;
    time = _value;
    document.getElementById(&quot;demo-area-06-input-value&quot;).innerHTML = _value;
  };
  while (!false) {
    for (var count = 0; count &lt; 11; count++) {
      pin = getPin(board, pinNum);
      next = getPin(board, (pinNum + addNum));
      pin.write(0);
      next.write(1);
      await delay(time);
      pinNum = pinNum + addNum;
    }
    addNum = -addNum;
  }
});

}());
</code></pre><p>Now you know how to create KITT&#39;s scanner light from Knight Rider using 12 LEDs, controlled by &quot;Slider&quot;.<br>Webduino Bin: <a href="https://bin.webduino.io/xijim/edit?html,css,js,output">https://bin.webduino.io/xijim/edit?html,css,js,output</a><br>Stack setup: <a href="http://blockly.webduino.io/?lang=en#-KZVjxhqel2z22IvelEU">http://blockly.webduino.io/?lang=en#-KZVjxhqel2z22IvelEU</a></p>  <a class="arrow arrow-r pre-next-button" data-name="pre-next-arrow"></a> <a class="arrow arrow-l pre-next-button" data-name="pre-next-arrow"></a> <div class="pre-next"> <div> <div class="pre"></div> <div class="next"></div> </div> </div> <div class="note-chicken"></div> <div class="others"> <i class="fa fa-times note-close-btn"></i> <h5>More information : </h5> <div class="others-link otehrs-read"> 1. Tutorials : <a href="https://webduino.io/en/tutorials.html" data-name="noteLink">https://webduino.io/tutorials.html</a> <br> 2. Blockly : <a href="https://goo.gl/Y8sRkl" data-name="noteLink">https://goo.gl/Y8sRkl</a> <br> 3. Products : <a href="https://webduino.io/buy.html" target="_blank" data-name="noteLink">https://webduino.io/buy.html <i class="fa fa-share-square-o"></i></a> <br> 4. Store : <a href="http://goo.gl/0Dj9ip" target="_blank" data-name="noteLink">http://goo.gl/0Dj9ip <i class="fa fa-share-square-o"></i></a> </div> </div> </div> <div class="disqus"> <div id="disqus_thread"></div> </div> <footer class="en"> <div class="logo"> <a href="index.html" data-name="layout-footer-logo"><i></i></a> <a href="../index.html" data-name="layout-footer-logo"><i></i></a> </div> <h4>Copyright 2017 | All Rights Reserved. Powered by Webduino</h4> <h4 style="padding-bottom: 20px;">2F-6, No.12, Fuxing 4th Rd., Qianzhen Dist., Kaohsiung City 806, Taiwan (R.O.C.) / 886-7-3388511</h4> </footer> <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-62202920-1', 'auto');
  ga('send', 'pageview');

</script> </body> </html>