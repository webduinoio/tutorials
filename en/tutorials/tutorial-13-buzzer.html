<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta http-equiv="pragma" content="no-cache"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"> <meta name="author" content="webduino.io"> <meta name="copyright" content="webduino.io"> <meta itemprop="name" content="webduino.io"> <link rel="icon" href="../../img/layout/favicon.ico" type="image/x-icon"> <title>Project Example 13: Make Music with a Buzzer :::: Webduino = Web × Arduino</title> <meta name="description" content="The buzzer is an audio singalling device that can be applied to many fields. It works based on the principle of electromechanical theory. When a DC voltage is applied, the audio signal current goes through a solenoid coil, creating a magnetic field and then causes the vibration of a diaphragm that in turn generates sounds. You can only use HTML attributes to make a piece of music on the Webduino Blockly to make the buzzer play music for you."> <meta itemprop="description" content="The buzzer is an audio singalling device that can be applied to many fields. It works based on the principle of electromechanical theory. When a DC voltage is applied, the audio signal current goes through a solenoid coil, creating a magnetic field and then causes the vibration of a diaphragm that in turn generates sounds. You can only use HTML attributes to make a piece of music on the Webduino Blockly to make the buzzer play music for you."> <meta property="og:description" content="The buzzer is an audio singalling device that can be applied to many fields. It works based on the principle of electromechanical theory. When a DC voltage is applied, the audio signal current goes through a solenoid coil, creating a magnetic field and then causes the vibration of a diaphragm that in turn generates sounds. You can only use HTML attributes to make a piece of music on the Webduino Blockly to make the buzzer play music for you."> <meta property="og:title" content="Project Example 13: Make Music with a Buzzer"> <meta property="og:url" content="https://webduino.io/tutorials/tutorial-13-buzzer.html"> <meta property="og:image" content="https://webduino.io/img/tutorials/tutorial-13-01s.jpg"> <meta itemprop="image" content="https://webduino.io/img/tutorials/tutorial-13-01s.jpg"> <script src="../../js/lib/jquery.min.js"></script> <script src="../../js/lib/jquery.lazyload.min.js"></script> <script src="../../js/lib/run_prettify.js"></script> <script src="../../js/layout.js"></script> <script src="../../js/tutorials-en.js"></script> <script src="../../js/lib/disqus.js"></script> <link rel="stylesheet" href="../../style/css/lib/tomorrow.css"> <link rel="stylesheet" href="../../style/css/layout.css"> <link rel="stylesheet" href="../../style/css/sub-header.css"> <link rel="stylesheet" href="../../style/css/tutorials-content.css"> <link rel="stylesheet" href="../../style/css/tutorials-en-content.css"> <link rel="stylesheet" href="../../style/css/lib/font-awesome.css"> <style>
.tutorials-content p{
	word-wrap:normal;
	word-break:normal;
}
</style> </head> <body> <header class="path-0"> <a class="logo" href="index.html" data-name="layout-header-logo"></a> <div class="mobile-menu"></div> <div class="menu"> <a href="index.html" class="index" data-name="layout-mobile-menu">Home</a> <a href="tutorials.html" class="tutorials" data-name="layout-mobile-menu">Tutorials</a> <a href="buy.html" class="buy" data-name="layout-mobile-men">Buy</a> <a href="about.html" class="about" data-name="layout-mobile-men">About us</a> <a href="../index.html" class="english" data-name="layout-mobile-men">中文</a> </div> </header> <header class="path-1"> <a class="logo" href="../index.html"></a> <div class="mobile-menu"></div> <div class="menu"> <a href="../index.html" class="index" data-name="layout-menu">Home</a> <a href="../tutorials.html" class="tutorials" data-name="layout-menu">Tutorials</a> <a href="../buy.html" class="buy" data-name="layout-menu">Buy</a> <a href="../about.html" class="about" data-name="layout-menu">About us</a> <a href="../../index.html" class="english" data-name="layout-mobile-men">中文</a> </div> </header> <div class="tutorials-content"> <div class="banner"> </div> <h1 id="project-example-13-make-music-with-a-buzzer">Project Example 13: Make Music with a Buzzer</h1> <p>The buzzer is an audio singalling device that can be applied to many fields. It works based on the principle of electromechanical theory. When a DC voltage is applied, the audio signal current goes through a solenoid coil, creating a magnetic field and then causes the vibration of a diaphragm that in turn generates sounds. You can only use HTML attributes to make a piece of music on the Webduino Blockly to make the buzzer play music for you.</p>  <h2 id="video-tutorial-">Video Tutorial:</h2>  <p>Check the video tutorial here:</p> <iframe class="youtube" src="https://www.youtube.com/embed/StNG2NHS240" frameborder="0" allowfullscreen=""></iframe> <h2 id="the-circuit">The Circuit</h2> <p>There are negative [-] and positive [+] connectors on the buzzer. You have to connect the negative line to GND on the board, and positive line to 1 on board.</p> <p>Webduino Mark 1 Circuit diagram:</p> <p><img src="../../img/tutorials/tutorial-13-02.jpg"></p> <p>Webduino Fly Circuit diagram:</p> <p><img src="../../img/tutorials/tutorial-13-02-fly.jpg"></p> <p>Reference image:</p> <p><img src="../../img/tutorials/tutorial-13-03.jpg"></p> <p><img src="../../img/tutorials/tutorial-13-04.jpg"></p>  <h2 id="instruction-of-webduino-blockly">Instruction of Webduino Blockly</h2> <p>Open the page: <a href="https://blockly.webduino.io/?lang=en">https://blockly.webduino.io/?lang=en</a> to acces Webduino Blockly. First, you will need to use the &quot;Web Demo Area&quot; to click buttons to play music. Click &quot;Web Demo Area&quot; and choose &quot;Click Button&quot; in the drop-down list. Note that, the button here is referring to the virtual button on &quot;Web Demo Area&quot;, not the real button switch.</p> <p><img src="../../img/tutorials/en/tutorial-13-05.jpg"></p> <p>Drag a &quot;board&quot; block into the workspace, and type in the name of your Webduino board. Combine a &quot;Buzzer&quot; block, from the &quot;Buzzer&quot; list located under the &quot;Components&quot; dropdown menu. Set the name as buzzer, and set the &quot;pin&quot; to 11. </p> <p><img src="../../img/tutorials/en/tutorial-13-06.jpg"></p> <p>Add an &quot;Add music&quot; block from under &quot;Buzzer&quot; to the stack, name this piece of music &quot;M1&quot;. Now connect the &quot;Note &amp; Tempo&quot; block to that. The musical scale of notes are C, CS(C sharp), D, DS(D sharp), E, ES(E sharp), F, FS(F sharp), G, GS(G sharp), A, AS(A sharp), and B. The numbers after the notes represent the octaves. The tempos are represented by a specified fraction of second. For example, setting 3 means that the amount of time between successive beats is ⅓ second.</p> <p><img src="../../img/tutorials/en/tutorial-13-07.jpg"></p> <p>After setting the notes and tempos, drag a block from the &quot;Web Demo&quot; menu under &quot;Click Button&quot; to the workspace. When clicked the button, run music &quot;M1&quot; with the buzzer.</p> <p><img src="../../img/tutorials/en/tutorial-13-08.jpg"></p> <p>You can also compose in the same tempo with the similar steps mentioned above. Drag another &quot;Add music&quot; block to the stack and name this piece of music &quot;M2&quot;. Then add another &quot;Notes &amp; Tempo&quot; block to the stack, add the notes and tempo. Finally, use &quot;Button 2&quot; from the &quot;Web Demo Area&quot; to play this piece of music.</p> <p><img src="../../img/tutorials/en/tutorial-13-09.jpg"></p> <p>The buzzer can also play selected music. Just replace the &quot;Notes &amp; Tempo&quot; block with a &quot;Choose Music&quot; block, and selecting a song from the database. If you want to stop music with a button, combine a &quot;Let Buzzer Stop...&quot; block with the &quot;Click Button, Do&quot; block.</p> <p><img src="../../img/tutorials/en/tutorial-13-10.jpg"></p> <p><img src="../../img/tutorials/en/tutorial-13-11.jpg"></p> <p>By repeating the last step, you can make a button play and pause every piece of music.</p> <p><img src="../../img/tutorials/en/tutorial-13-12.jpg"></p> <p>After you finish creating the block stack, check your &quot;<a href="https://webduino.io/device.html">device&#39;s status</a>&quot; before you &quot;Run&quot; all of the blocks. Then you can hear the buzzer play music for you! Check your stack setup with this example here: <a href="https://blockly.webduino.io/?lang=en#-KTOLSVERLP8SHXKg4Gh">https://blockly.webduino.io/#-KDEaW-S-kRRaEkkyRGH</a></p> <h2 id="code-explanation-check-webduino-bin-check-device-status-">Code Explanation (<a href="https://bin.webduino.io/lihov/edit?html,css,js,output">Check Webduino Bin</a>, <a href="https://webduino.io/device.html">Check Device Status</a>)</h2> <p>Include <code>webduino-all.min.js</code> in the header of your html files in order to support all the Webduino&#39;s components. If the codes are generated by Webduino Blockly, you also have to include <code>webduino-blockly.js</code> in your files.</p> <pre><code>&lt;script src=&quot;https://webduino.io/components/webduino-js/dist/webduino-all.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://webduinoio.github.io/webduino-blockly/webduino-blockly.js&quot;&gt;&lt;/script&gt;
</code></pre><p>There are five buttons in the html with their repective IDs, by which we can determine which one is pressed.</p> <pre><code>&lt;button id=&quot;demo-area-05-btn1&quot; class=&quot;db5&quot;&gt;按鈕 1&lt;/button&gt;
&lt;button id=&quot;demo-area-05-btn2&quot; class=&quot;db5&quot;&gt;按鈕 2&lt;/button&gt;
&lt;button id=&quot;demo-area-05-btn3&quot; class=&quot;db5&quot;&gt;按鈕 3&lt;/button&gt;
&lt;button id=&quot;demo-area-05-btn4&quot; class=&quot;db5&quot;&gt;按鈕 4&lt;/button&gt;
&lt;button id=&quot;demo-area-05-btn5&quot; class=&quot;db5&quot;&gt;按鈕 5&lt;/button&gt;
</code></pre><p>The code looks lengthy but simple. The main function &quot;buzzer_music&quot; is used to create the music. First we create an object &quot;musicNotes&quot; to represent the whole melody. Then we create two arrays, &quot;notes&quot; and &quot;tempos&quot;, for storing the notes and tempos.</p> <pre><code>var buzzer;
var m1;
var m2;
var m3;

function buzzer_music(m) {
  var musicNotes = {};
  musicNotes.notes = [];
  musicNotes.tempos = [];
  if(m.length&gt;1){
    for(var i=0; i&lt;m.length; i++){
      if(Array.isArray(m[i].notes)){
        var cn = musicNotes.notes.concat(m[i].notes);
        musicNotes.notes = cn;
      }else{
        musicNotes.notes.push(m[i].notes);
      }
      if(Array.isArray(m[i].tempos)){
        var ct = musicNotes.tempos.concat(m[i].tempos);
        musicNotes.tempos = ct;
      }else{
        musicNotes.tempos.push(m[i].tempos);
      }
    }
  }else{
    musicNotes.notes = [m[0].notes];
    musicNotes.tempos = [m[0].tempos];
  }
  return musicNotes;
}
</code></pre><p>Finally, we use play() to play the notes we have created. With this, the buzzer will play the melody accordingly.</p> <pre><code>boardReady(&#39;&#39;, function (board) {
  board.samplingInterval = 20;
  buzzer = getBuzzer(board, 11);
  m1 = buzzer_music([  {notes:&quot;C6&quot;,tempos:&quot;3&quot;},{notes:&quot;D6&quot;,tempos:&quot;7&quot;},{notes:&quot;E6&quot;,tempos:&quot;3&quot;},{notes:&quot;F6&quot;,tempos:&quot;7&quot;}]);
  document.getElementById(&quot;demo-area-05-btn1&quot;).addEventListener(&quot;click&quot;,function(){
    buzzer.stop();
    buzzer.play(m1.notes, m1.tempos);
  });
  m2 = buzzer_music([  {notes : [&quot;C6&quot;,&quot;D6&quot;,&quot;E6&quot;,&quot;F6&quot;,&quot;G6&quot;,&quot;A6&quot;,&quot;B6&quot;] , tempos : [&quot;8&quot;,&quot;8&quot;,&quot;8&quot;,&quot;8&quot;,&quot;8&quot;,&quot;8&quot;,&quot;8&quot;] }]);
  document.getElementById(&quot;demo-area-05-btn2&quot;).addEventListener(&quot;click&quot;,function(){
    buzzer.stop();
    buzzer.play(m2.notes, m2.tempos);
  });
  m3 = buzzer_music([  {notes:[&quot;E7&quot;,&quot;E7&quot;,&quot;0&quot;,&quot;E7&quot;,&quot;0&quot;,&quot;C7&quot;,&quot;E7&quot;,&quot;0&quot;,&quot;G7&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;G6&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;C7&quot;,&quot;0&quot;,&quot;0&quot;,&quot;G6&quot;,&quot;0&quot;,&quot;0&quot;,&quot;E6&quot;,&quot;0&quot;,&quot;0&quot;,&quot;A6&quot;,&quot;0&quot;,&quot;B6&quot;,&quot;0&quot;,&quot;AS6&quot;,&quot;A6&quot;,&quot;0&quot;,&quot;G6&quot;,&quot;E7&quot;,&quot;0&quot;,&quot;G7&quot;,&quot;A7&quot;,&quot;0&quot;,&quot;F7&quot;,&quot;G7&quot;,&quot;0&quot;,&quot;E7&quot;,&quot;0&quot;,&quot;C7&quot;,&quot;D7&quot;,&quot;B6&quot;,&quot;0&quot;,&quot;0&quot;,&quot;C7&quot;,&quot;0&quot;,&quot;0&quot;,&quot;G6&quot;,&quot;0&quot;,&quot;0&quot;,&quot;E6&quot;,&quot;0&quot;,&quot;0&quot;,&quot;A6&quot;,&quot;0&quot;,&quot;B6&quot;,&quot;0&quot;,&quot;AS6&quot;,&quot;A6&quot;,&quot;0&quot;,&quot;G6&quot;,&quot;E7&quot;,&quot;0&quot;,&quot;G7&quot;,&quot;A7&quot;,&quot;0&quot;,&quot;F7&quot;,&quot;G7&quot;,&quot;0&quot;,&quot;E7&quot;,&quot;0&quot;,&quot;C7&quot;,&quot;D7&quot;,&quot;B6&quot;,&quot;0&quot;,&quot;0&quot;] , tempos:[&quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;]}]);
  document.getElementById(&quot;demo-area-05-btn3&quot;).addEventListener(&quot;click&quot;,function(){
    buzzer.stop();
    buzzer.play(m3.notes, m3.tempos);
  });
  document.getElementById(&quot;demo-area-05-btn4&quot;).addEventListener(&quot;click&quot;,function(){
    buzzer.stop();
  });
});
</code></pre><p>This was the example of how to use a buzzer to make a piece of music, we hope you enjoyed it! Webduino Bin: <a href="https://bin.webduino.io/lihov/edit?html,css,js,output">https://bin.webduino.io/lihov/edit?html,css,js,output</a><br>Stack setup: <a href="https://blockly.webduino.io/?lang=en#-KTOK67llD96tMoi2Qmz">https://blockly.webduino.io/?lang=en#-KTOK67llD96tMoi2Qmz</a></p>   <a class="arrow arrow-r pre-next-button" data-name="pre-next-arrow"></a> <a class="arrow arrow-l pre-next-button" data-name="pre-next-arrow"></a> <div class="pre-next"> <div> <div class="pre"></div> <div class="next"></div> </div> </div> <div class="note-chicken"></div> <div class="others"> <i class="fa fa-times note-close-btn"></i> <h5>More information : </h5> <div class="others-link otehrs-read"> 1. Tutorials : <a href="https://webduino.io/en/tutorials.html" data-name="noteLink">https://webduino.io/tutorials.html</a> <br> 2. Blockly : <a href="https://goo.gl/Y8sRkl" data-name="noteLink">https://goo.gl/Y8sRkl</a> <br> 3. Products : <a href="https://webduino.io/buy.html" target="_blank" data-name="noteLink">https://webduino.io/buy.html <i class="fa fa-share-square-o"></i></a> <br> 4. Store : <a href="http://goo.gl/0Dj9ip" target="_blank" data-name="noteLink">http://goo.gl/0Dj9ip <i class="fa fa-share-square-o"></i></a> </div> </div> </div> <div class="disqus"> <div id="disqus_thread"></div> </div> <footer class="en"> <div class="logo"> <a href="index.html" data-name="layout-footer-logo"><i></i></a> <a href="../index.html" data-name="layout-footer-logo"><i></i></a> </div> <h4>Copyright 2017 | All Rights Reserved. Powered by Webduino</h4> <h4 style="padding-bottom: 20px;">2F-6, No.12, Fuxing 4th Rd., Qianzhen Dist., Kaohsiung City 806, Taiwan (R.O.C.) / 886-7-3388511</h4> </footer> <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-62202920-1', 'auto');
  ga('send', 'pageview');

</script> </body> </html>