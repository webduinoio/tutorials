<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta http-equiv="pragma" content="no-cache"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"> <meta name="author" content="webduino.io"> <meta name="copyright" content="webduino.io"> <meta itemprop="name" content="webduino.io"> <link rel="icon" href="../../img/layout/favicon.ico" type="image/x-icon"> <title>Project Example 12: Controlling an LED and web page image with a Sound Sensor :::: Webduino = Web × Arduino</title> <meta name="description" content="A Sound Sensor is like a small microphone, but not as powerful. It is mostly used to detect if any noise is made near it. On the sound sensor there is a cross knob, you can adjust the sensitivity with a screwdriver. If the sensitivity is too high even a light breeze might be detected and with the sensitivity too low loud clapping might not be recognized. The sound sensor also has a time difference when transferring signals, so there might be a delay from the time the sound is made to when it is received. In this project example we will use a sound sensor to light up an LED and our Web Demo light bulb image when a sound is detected."> <meta itemprop="description" content="A Sound Sensor is like a small microphone, but not as powerful. It is mostly used to detect if any noise is made near it. On the sound sensor there is a cross knob, you can adjust the sensitivity with a screwdriver. If the sensitivity is too high even a light breeze might be detected and with the sensitivity too low loud clapping might not be recognized. The sound sensor also has a time difference when transferring signals, so there might be a delay from the time the sound is made to when it is received. In this project example we will use a sound sensor to light up an LED and our Web Demo light bulb image when a sound is detected."> <meta property="og:description" content="A Sound Sensor is like a small microphone, but not as powerful. It is mostly used to detect if any noise is made near it. On the sound sensor there is a cross knob, you can adjust the sensitivity with a screwdriver. If the sensitivity is too high even a light breeze might be detected and with the sensitivity too low loud clapping might not be recognized. The sound sensor also has a time difference when transferring signals, so there might be a delay from the time the sound is made to when it is received. In this project example we will use a sound sensor to light up an LED and our Web Demo light bulb image when a sound is detected."> <meta property="og:title" content="Project Example 12: Controlling an LED and web page image with a Sound Sensor"> <meta property="og:url" content="https://webduino.io/tutorials/tutorial-12-sound-sensor.html"> <meta property="og:image" content="https://webduino.io/img/tutorials/tutorial-12-01s.jpg"> <meta itemprop="image" content="https://webduino.io/img/tutorials/tutorial-12-01s.jpg"> <script src="../../js/lib/jquery.min.js"></script> <script src="../../js/lib/jquery.lazyload.min.js"></script> <script src="../../js/lib/run_prettify.js"></script> <script src="../../js/layout.js"></script> <script src="../../js/tutorials-en.js"></script> <script src="../../js/lib/disqus.js"></script> <link rel="stylesheet" href="../../style/css/lib/tomorrow.css"> <link rel="stylesheet" href="../../style/css/layout.css"> <link rel="stylesheet" href="../../style/css/sub-header.css"> <link rel="stylesheet" href="../../style/css/tutorials-content.css"> <link rel="stylesheet" href="../../style/css/tutorials-en-content.css"> <link rel="stylesheet" href="../../style/css/lib/font-awesome.css"> <style>
.tutorials-content p{
	word-wrap:normal;
	word-break:normal;
}
</style> </head> <body> <header class="path-0"> <a class="logo" href="index.html" data-name="layout-header-logo"></a> <div class="mobile-menu"></div> <div class="menu"> <a href="index.html" class="index" data-name="layout-mobile-menu">Home</a> <a href="tutorials.html" class="tutorials" data-name="layout-mobile-menu">Tutorials</a> <a href="buy.html" class="buy" data-name="layout-mobile-men">Buy</a> <a href="about.html" class="about" data-name="layout-mobile-men">About us</a> <a href="../index.html" class="english" data-name="layout-mobile-men">中文</a> </div> </header> <header class="path-1"> <a class="logo" href="../index.html"></a> <div class="mobile-menu"></div> <div class="menu"> <a href="../index.html" class="index" data-name="layout-menu">Home</a> <a href="../tutorials.html" class="tutorials" data-name="layout-menu">Tutorials</a> <a href="../buy.html" class="buy" data-name="layout-menu">Buy</a> <a href="../about.html" class="about" data-name="layout-menu">About us</a> <a href="../../index.html" class="english" data-name="layout-mobile-men">中文</a> </div> </header> <div class="tutorials-content"> <div class="banner"> </div> <h1 id="project-example-12-controlling-an-led-and-web-page-image-with-a-sound-sensor">Project Example 12: Controlling an LED and web page image with a Sound Sensor</h1> <p>A Sound Sensor is like a small microphone, but not as powerful. It is mostly used to detect if any noise is made near it. On the sound sensor there is a cross knob, you can adjust the sensitivity with a screwdriver. If the sensitivity is too high even a light breeze might be detected and with the sensitivity too low loud clapping might not be recognized. The sound sensor also has a time difference when transferring signals, so there might be a delay from the time the sound is made to when it is received. In this project example we will use a sound sensor to light up an LED and our Web Demo light bulb image when a sound is detected.</p>  <h2 id="video-tutorial">Video Tutorial</h2>  <p>Check the video tutorial here: </p> <iframe class="youtube" src="https://www.youtube.com/embed/0NFEsS-FvMw" frameborder="0" allowfullscreen=""></iframe> <h2 id="wiring-and-practice">Wiring and Practice</h2> <p>First connect the sound sensor and LED to a breadboard. Connect the +5V from the sound sensor to VCC, GND to GND, and OUT to pin 10. Then connect GND to the shorter leg of the LED and finally connect the long leg to pin 9.</p> <p>Webduino Mark 1 Circuit diagram:</p> <p><img src="../../img/tutorials/tutorial-12-02.jpg"></p> <p>Webduino Fly Circuit diagram:</p> <p><img src="../../img/tutorials/tutorial-12-02-fly.jpg"></p> <p>Reference image:</p> <p><img src="../../img/tutorials/tutorial-12-03.jpg"></p> <p><img src="../../img/tutorials/tutorial-12-04.jpg"></p>  <h2 id="instructions-for-using-the-webduino-blockly">Instructions for using the Webduino Blockly</h2> <p>Open the <a href="https://blockly.webduino.io/?lang=en">Webduino Blocky editor</a>. This example will use the &quot;Click Bulb&quot; to control the LED so open the Webduino Blocky Editor and click on the &quot;Web Demo Area&quot; button. Then choose &quot;Click Bulb&quot; from the drop down menu.</p> <p><img src="../../img/tutorials/en/tutorial-12-06.jpg"></p> <p>Place a &quot;Board&quot; block into workspace, fill in the name of your Webduino, place a &quot;Sound Sensor&quot; block into the stack ,and set name to sound and pin to 10. Then place an &quot;LED&quot; block in the stack and set the name to led and pin to 9.</p> <p><img src="../../img/tutorials/en/tutorial-12-07.jpg"></p> <p>Place a &quot;When Sound&#39;s Change / do&quot; block next in the stack, and add blocks so the LED turns on and the light bulb image changes, as well.</p> <p><img src="../../img/tutorials/en/tutorial-12-08.jpg"></p> <p>It is possible for the sensor to detect sound and then detect nothing, at the same time (you might only clap once and then there is silence right after). So place another &quot;When Sound&#39;s Change / do&quot; block into the stack to , Set it to &quot;no detect&quot; with a delay of 1 second. So if there is no sound detected after 1 second, the LED will turn off and the lightbulb will go off on the screen.</p> <p><img src="../../img/tutorials/en/tutorial-12-09.jpg"></p> <p>After all this is done, check to see if the board is online (click &quot;<a href="https://webduino.io/device.html">Check Device Status</a>&quot;) and click on the red execution button &quot;Run Blocks&quot;. Make some noise and you will see the LED and light bulb on screen light up! Solution: <a href="https://blockly.webduino.io/?lang=en#-KZdTn-FkODZKDjCu7P-">https://blockly.webduino.io/?lang=en#-KZdTn-FkODZKDjCu7P-</a></p> <h2 id="code-explanation-check-webduino-bin-check-device-status-">Code Explanation (<a href="http://bin.webduino.io/bitur/edit?html,css,js,output">Check Webduino Bin</a>, <a href="https://webduino.io/device.html">Check Device Status</a>)</h2> <p>Include <code>webduino-all.min.js</code> in the header of your html files in order to support all of the Webduino&#39;s components. If the codes are generated by Webduino Blockly, you also have to include<code>webduino-blockly.js</code> in your files.</p> <pre><code>&lt;script src=&quot;https://webduino.io/components/webduino-js/dist/webduino-all.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://webduinoio.github.io/webduino-blockly/webduino-blockly.js&quot;&gt;&lt;/script&gt;
</code></pre><p>Inside the body of the HTML file, where there is an image section with the ID, demo-area-o2-light, there is a part where there are two different light bulb images, one on and one off, so when we click on the images they will change from one state to another.</p> <pre><code>&lt;div id=&quot;demo-area-02-light&quot; class=&quot;off&quot;&gt;
  &lt;img src=&quot;https://blockly.webduino.io/media/off.png&quot; id=&quot;demo-area-02-off&quot;&gt;
  &lt;img src=&quot;https://blockly.webduino.io/media/on.png&quot; id=&quot;demo-area-02-on&quot;&gt;
&lt;/div&gt;
</code></pre><p>We use CSS to control the light bulb image, here we use display:none; to control the changing of images, below is the CSS code.</p> <pre><code>#demo-area-02-light img{
  height:200px;
  display:none;
}
#demo-area-02-light.on #demo-area-02-on{
  display:inline-block;
}
#demo-area-02-light.off #demo-area-02-off{
  display:inline-block;
}
</code></pre><p>With JavaScript we use &quot;on&quot; to detect, with the first parameter <code>detected</code> meaning a sound is detected, then do the action below, if <code>ended</code> then turn the LED off and change the image to the unlit light bulb. The light bulb image on screen uses <code>className</code> to change between states.</p> <pre><code>var sound;
var led;

boardReady(&#39;&#39;, function (board) {
  board.samplingInterval = 20;
  sound = getSound(board, 10);
  led = getLed(board, 9);
  sound.on(&quot;detected&quot;,function(){
      led.on();
    document.getElementById(&quot;demo-area-02-light&quot;).className = &quot;on&quot;;

  });
  sound.on(&quot;ended&quot;,function(){
    setTimeout(function(){
      setTimeout(function () {
      led.off();
      document.getElementById(&quot;demo-area-02-light&quot;).className = &quot;off&quot;;
    }, 1000);

    },300);
  });
});
</code></pre><p>This is how you control an LED and web page image with a Sound Sensor!<br>Webduino Bin: <a href="http://bin.webduino.io/bitur/edit?html,css,js,output">http://bin.webduino.io/bitur/edit?html,css,js,output</a><br>Stack setup: <a href="https://blockly.webduino.io/?lang=en#-KZdXIYmALZE7Zg_UWNH">https://blockly.webduino.io/?lang=en#-KZdXIYmALZE7Zg_UWNH</a></p>  <a class="arrow arrow-r pre-next-button" data-name="pre-next-arrow"></a> <a class="arrow arrow-l pre-next-button" data-name="pre-next-arrow"></a> <div class="pre-next"> <div> <div class="pre"></div> <div class="next"></div> </div> </div> <div class="note-chicken"></div> <div class="others"> <i class="fa fa-times note-close-btn"></i> <h5>More information : </h5> <div class="others-link otehrs-read"> 1. Tutorials : <a href="https://webduino.io/en/tutorials.html" data-name="noteLink">https://webduino.io/tutorials.html</a> <br> 2. Blockly : <a href="https://goo.gl/Y8sRkl" data-name="noteLink">https://goo.gl/Y8sRkl</a> <br> 3. Products : <a href="https://webduino.io/buy.html" target="_blank" data-name="noteLink">https://webduino.io/buy.html <i class="fa fa-share-square-o"></i></a> <br> 4. Store : <a href="http://goo.gl/0Dj9ip" target="_blank" data-name="noteLink">http://goo.gl/0Dj9ip <i class="fa fa-share-square-o"></i></a> </div> </div> </div> <div class="disqus"> <div id="disqus_thread"></div> </div> <footer class="en"> <div class="logo"> <a href="index.html" data-name="layout-footer-logo"><i></i></a> <a href="../index.html" data-name="layout-footer-logo"><i></i></a> </div> <h4>Copyright 2017 | All Rights Reserved. Powered by Webduino</h4> <h4 style="padding-bottom: 20px;">2F-6, No.12, Fuxing 4th Rd., Qianzhen Dist., Kaohsiung City 806, Taiwan (R.O.C.) / 886-7-3388511</h4> </footer> <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-62202920-1', 'auto');
  ga('send', 'pageview');

</script> </body> </html>