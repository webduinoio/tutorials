<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta http-equiv="pragma" content="no-cache"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"> <meta name="author" content="webduino.io"> <meta name="copyright" content="webduino.io"> <meta itemprop="name" content="webduino.io"> <link rel="icon" href="../../img/layout/favicon.ico" type="image/x-icon"> <title>Photocell of the Webduino Smart :::: Webduino = Web × Arduino</title> <meta name="description" content="The Webduino Smart has a few built-in sensors and components, and photocell is one of them. The photocell can be used to detect the light surrounding it. The photocell is connected to A0, which is the AD pin on the board. Therefore, when the photocell is in use, the AD pin is taken."> <meta itemprop="description" content="The Webduino Smart has a few built-in sensors and components, and photocell is one of them. The photocell can be used to detect the light surrounding it. The photocell is connected to A0, which is the AD pin on the board. Therefore, when the photocell is in use, the AD pin is taken."> <meta property="og:description" content="The Webduino Smart has a few built-in sensors and components, and photocell is one of them. The photocell can be used to detect the light surrounding it. The photocell is connected to A0, which is the AD pin on the board. Therefore, when the photocell is in use, the AD pin is taken."> <meta property="og:title" content="Photocell of the Webduino Smart"> <meta property="og:url" content="https://webduino.io/tutorials/smart-05-photocell.html"> <meta property="og:image" content="https://webduino.io/img/tutorials/smart-05-photocell-s.jpg"> <meta itemprop="image" content="https://webduino.io/img/tutorials/smart-05-photocell-s.jpg"> <script src="../../js/lib/jquery.min.js"></script> <script src="../../js/lib/jquery.lazyload.min.js"></script> <script src="../../js/lib/run_prettify.js"></script> <script src="../../js/layout.js"></script> <script src="../../js/tutorials-en.js"></script> <script src="../../js/lib/disqus.js"></script> <link rel="stylesheet" href="../../style/css/lib/tomorrow.css"> <link rel="stylesheet" href="../../style/css/layout.css"> <link rel="stylesheet" href="../../style/css/sub-header.css"> <link rel="stylesheet" href="../../style/css/tutorials-content.css"> <link rel="stylesheet" href="../../style/css/tutorials-en-content.css"> <link rel="stylesheet" href="../../style/css/lib/font-awesome.css"> <style>
.tutorials-content p{
	word-wrap:normal;
	word-break:normal;
}
</style> </head> <body> <header class="path-0"> <a class="logo" href="index.html" data-name="layout-header-logo"></a> <div class="mobile-menu"></div> <div class="menu"> <a href="index.html" class="index" data-name="layout-mobile-menu">Home</a> <a href="tutorials.html" class="tutorials" data-name="layout-mobile-menu">Tutorials</a> <a href="buy.html" class="buy" data-name="layout-mobile-men">Buy</a> <a href="about.html" class="about" data-name="layout-mobile-men">About us</a> <a href="../index.html" class="english" data-name="layout-mobile-men">中文</a> </div> </header> <header class="path-1"> <a class="logo" href="../index.html"></a> <div class="mobile-menu"></div> <div class="menu"> <a href="../index.html" class="index" data-name="layout-menu">Home</a> <a href="../tutorials.html" class="tutorials" data-name="layout-menu">Tutorials</a> <a href="../buy.html" class="buy" data-name="layout-menu">Buy</a> <a href="../about.html" class="about" data-name="layout-menu">About us</a> <a href="../../index.html" class="english" data-name="layout-mobile-men">中文</a> </div> </header> <div class="tutorials-content"> <div class="banner"> </div> <h1 id="photocell-of-the-webduino-smart">Photocell of the Webduino Smart</h1> <p>The Webduino Smart has a few built-in sensors and components, and photocell is one of them. The photocell can be used to detect the light surrounding it. The photocell is connected to A0, which is the AD pin on the board. Therefore, when the photocell is in use, the AD pin is taken.</p>  <h2 id="instructions-for-using-webduino-blockly">Instructions for using Webduino Blockly</h2> <p>Open the <a href="https://blockly.webduino.io/index.html?lang=en">Webduino Blockly editor</a>, place a &quot;Board&quot; block onto the workspace, choose WebSocket in the drop-down list, and fill in the IP address of your board. <strong>Remember to use the &quot;http&quot; protocol when you are using WebSocket, not &quot;https&quot;.</strong></p> <p>Add a &quot;Photocell&quot; block and set the pin to A0.</p> <p><img src="../../img/tutorials/en/smart-05-02.jpg"></p> <p>Connect a &quot;Photocell detect / do&quot; block to the stack. Use the Web Demo method to show the values that the sensor detects. Click the red &quot;Run blocks&quot; button to run the stack, and you will see the value in Web Demo Area. Check your stack setup with this example here: <a href="http://blockly.webduino.io/?lang=en#-KZsp_mWaBz_VrhJMRk4">http://blockly.webduino.io/?lang=en#-KZsp_mWaBz_VrhJMRk4</a></p> <p><img src="../../img/tutorials/en/smart-05-03-1.jpg"> <img src="../../img/tutorials/en/smart-05-03-2.jpg"></p> <p>You can convert the scale by using the &quot;Scale conversion&quot; block under the &quot;Math Conversion&quot; menu. Choose &quot;round to decimal 2&quot; for rounding the value to second decimal place. Fill in both the &quot;original&quot; and &quot;conversion&quot; values, so that you can convert the scale of value. Check your stack setup with this example here: <a href="http://blockly.webduino.io/?lang=en#-KZsprNLjTKYohAy8M-g">http://blockly.webduino.io/?lang=en#-KZsprNLjTKYohAy8M-g</a></p> <p><img src="../../img/tutorials/en/smart-05-04.jpg"> </p> <p><img src="../../img/tutorials/en/smart-05-05.jpg"></p> <p>We can also apply the method we introduced in the past tutorial: &quot;<a href="smart-03-rgbled.html">Using an RGB LED with the Webduino Smart</a>&quot;. By simply using logic block to define a decision-making process you can make the RGB LED shine red if the value is between 0~0.2, in green if the value is between 0.4~0.6, and in blue if the value is over 0.6. The Webduino Smart allows for multiple applications at one time. This is the great advantage of the Webduino Smart!</p> <p><img src="../../img/tutorials/en/smart-05-06.jpg"></p> <p>Click the red &quot;Run Blocks&quot; button when you want to run the stack. Now the board can detect the light around it and you can see the reaction on the RGB LED. (Check your stack setup with this example here: <a href="http://blockly.webduino.io/?lang=en#-KZsqOgRlPNHzfwWfw0H">http://blockly.webduino.io/?lang=en#-KZsqOgRlPNHzfwWfw0H</a></p> <p><img src="../../img/tutorials/smart-05-07.gif"></p> <p><br></p> <h2 id="code-explanation">Code Explanation</h2> <p>Include <code>webduino-all.min.js</code> in the header of HTML. The purpose is to allow the browser to support all the components of Web Components and Webduino. If the JavaScript is created by Blockly editing tools, <code>webduino-blockly.js</code> should be included.</p> <pre><code>&lt;script src=&quot;https://webduino.io/components/webduino-js/dist/webduino-all.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://webduinoio.github.io/webduino-blockly/webduino-blockly.js&quot;&gt;&lt;/script&gt;
</code></pre><p>We use WebSocket transport: <code>{transport: &#39;websocket&#39;, url: &#39;192.168.8.115&#39;}</code> here, with <code>.on()</code> to start detecting, and the property <code>.detectedVal</code> to get its detected value.</p> <pre><code>var photocell;

boardReady({transport: &#39;websocket&#39;, url: &#39;192.168.8.115&#39;}, function (board) {
  board.systemReset();
  board.samplingInterval = 250;
  photocell = getPhotocell(board, 0);
  photocell.on(function(val){
    photocell.detectedVal = val;
    document.getElementById(&quot;demo-area-01-show&quot;).innerHTML = photocell.detectedVal;
  });
});
</code></pre><p>That&#39;s it for using the photocell with the Webduino Smart. Webduino Bin: <a href="http://bin.webduino.io/luxu/edit?html,css,js,output">http://bin.webduino.io/luxu/edit?html,css,js,output</a> Stack setup: <a href="http://blockly.webduino.io/?lang=en#-KZsqyEhaMB-2RMNi2B2">http://blockly.webduino.io/?lang=en#-KZsqyEhaMB-2RMNi2B2</a></p>  <a class="arrow arrow-r pre-next-button" data-name="pre-next-arrow"></a> <a class="arrow arrow-l pre-next-button" data-name="pre-next-arrow"></a> <div class="pre-next"> <div> <div class="pre"></div> <div class="next"></div> </div> </div> <div class="note-chicken"></div> <div class="others"> <i class="fa fa-times note-close-btn"></i> <h5>More information : </h5> <div class="others-link otehrs-read"> 1. Tutorials : <a href="https://webduino.io/en/tutorials.html" data-name="noteLink">https://webduino.io/tutorials.html</a> <br> 2. Blockly : <a href="https://goo.gl/Y8sRkl" data-name="noteLink">https://goo.gl/Y8sRkl</a> <br> 3. Products : <a href="https://webduino.io/buy.html" target="_blank" data-name="noteLink">https://webduino.io/buy.html <i class="fa fa-share-square-o"></i></a> <br> 4. Store : <a href="http://goo.gl/0Dj9ip" target="_blank" data-name="noteLink">http://goo.gl/0Dj9ip <i class="fa fa-share-square-o"></i></a> </div> </div> </div> <div class="disqus"> <div id="disqus_thread"></div> </div> <footer class="en"> <div class="logo"> <a href="index.html" data-name="layout-footer-logo"><i></i></a> <a href="../index.html" data-name="layout-footer-logo"><i></i></a> </div> <h4>Copyright 2017 | All Rights Reserved. Powered by Webduino</h4> <h4 style="padding-bottom: 20px;">2F-6, No.12, Fuxing 4th Rd., Qianzhen Dist., Kaohsiung City 806, Taiwan (R.O.C.) / 886-7-3388511</h4> </footer> <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-62202920-1', 'auto');
  ga('send', 'pageview');

</script> </body> </html>