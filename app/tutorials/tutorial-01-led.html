<!DOCTYPE html>
<html lang="en">
<head>  
	<meta charset="UTF-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta name="author" content="webduino.io">
  <meta name="copyright" content="webduino.io">
  <meta itemprop="name" content="webduino.io">
  <link rel="icon" href="../img/layout/favicon.ico" type="image/x-icon">

<title>教學範例 1：控制單顆 LED 燈 :::: Webduino = Web × Arduino</title>

<meta name="description" content="在基本的 Arduino 傳感器控制範例裡頭，控制單顆 LED 燈通常都是作為第一個範例使用，為什麼呢？因為這個範例最容易上手，也最容易藉由 LED 的明暗來測試程式是否有寫錯，因此進入了 Webduino 的世界之後，同樣也使用 LED 來作為第一個範例，而撰寫的程式也更為簡單，就像控制一張網頁圖片切換一樣的容易。">

<meta itemprop="description" content="在基本的 Arduino 傳感器控制範例裡頭，控制單顆 LED 燈通常都是作為第一個範例使用，為什麼呢？因為這個範例最容易上手，也最容易藉由 LED 的明暗來測試程式是否有寫錯，因此進入了 Webduino 的世界之後，同樣也使用 LED 來作為第一個範例，而撰寫的程式也更為簡單，就像控制一張網頁圖片切換一樣的容易。">

<meta property="og:description" content="在基本的 Arduino 傳感器控制範例裡頭，控制單顆 LED 燈通常都是作為第一個範例使用，為什麼呢？因為這個範例最容易上手，也最容易藉由 LED 的明暗來測試程式是否有寫錯，因此進入了 Webduino 的世界之後，同樣也使用 LED 來作為第一個範例，而撰寫的程式也更為簡單，就像控制一張網頁圖片切換一樣的容易。">

<meta property="og:title" content="教學範例 1：控制單顆 LED 燈" >

<meta property="og:url" content="https://webduino.io/tutorials/tutorial-01-led.html">

<meta property="og:image" content="https://webduino.io/img/tutorials/tutorial-01-01s.jpg">

<meta itemprop="image" content="https://webduino.io/img/tutorials/tutorial-01-01s.jpg">

<script src="../js/lib/jquery.min.js"></script>
<script src="../js/lib/jquery.lazyload.min.js"></script>
<script src="../js/lib/run_prettify.js"></script>
<script src="../js/layout.js"></script>
<script src="../js/tutorials.js"></script>
<script src="../js/lib/disqus.js"></script>

<link rel="stylesheet" href="../style/css/lib/tomorrow.css">
<link rel="stylesheet" href="../style/css/layout.css">
<link rel="stylesheet" href="../style/css/sub-header.css">
<link rel="stylesheet" href="../style/css/tutorials-content.css">








	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

</head>
<body>
	<header class="path-0">
		<a class="logo" href="index.html"></a>
		<div class="mobile-menu"></div>
		<div class="menu">
			<a href="index.html" class="index">首頁</a>
			<a href="tutorials.html" class="tutorials">教學範例</a>
			<a href="buy.html" class="buy">產品總覽</a>
			<a href="activity.html" class="activity">課程活動</a>
			<a class="none">關於我們</a>
		</div>
	</header>
	<header class="path-1">
		<a class="logo" href="../index.html"></a>
		<div class="mobile-menu"></div>
		<div class="menu">
			<a href="../index.html" class="index">首頁</a>
			<a href="../tutorials.html" class="tutorials">教學範例</a>
			<a href="../buy.html" class="buy">產品總覽</a>
			<a href="../activity.html" class="activity">課程活動</a>
			<a class="none">關於我們</a>
		</div>
	</header>
	  




	<div class="tutorials-content">
		<div class="banner">
		</div>  

<h1>教學範例 1：控制單顆 LED 燈</h1>
<p>在基本的 Arduino 傳感器控制範例裡頭，控制單顆 LED 燈通常都是作為第一個範例使用，為什麼呢？因為這個範例最容易上手，也最容易藉由 LED 的明暗來測試程式是否有寫錯，因此進入了 Webduino 的世界之後，同樣也使用 LED 來作為第一個範例，而撰寫的程式也更為簡單，就像控制一張網頁圖片切換一樣的容易。</p>
<h2>教學影片</h2>
<p><iframe class="youtube" src="https://www.youtube.com/embed/8k6Lqu-aqVM" frameborder="0" allowfullscreen></iframe></p>
<h2>接線與實作</h2>
<p>只有一顆 LED 燈的接線方式很簡單，首先，LED 燈有「長短腳」之分，長腳接「高電位」( 帶有數字的腳位 )，短腳接「低電位」( GND、接地 )，因此我們只要直接將 LED 插到腳位上即可，或使用麵包板與麵包線外接出來，在這裡<strong>長腳接 10，短腳接 GND</strong>。</p>
<p>接線示意圖：</p>
<p><img src="../img/tutorials/tutorial-01-02.jpg" alt=""></p>
<p>實際接線照片：</p>
<p><img src="../img/tutorials/tutorial-01-03.jpg" alt=""></p>
<h2>Webduino Blockly 操作解析</h2>
<p>打開 Webduino Blockly 編輯工具 ( <a href="http://blockly.webduino.io/#-K4pR8RaEF6IkiWdAYk7">http://blockly.webduino.io</a> )，在第一個範例裡頭，我們將會點選網頁「燈泡圖案」來控制 LED 燈的切換，所以要先點選右上方「網頁互動測試」的按鈕，打開內嵌測試的網頁，用下拉選單選擇「點擊燈泡」，就會出現讓我們可以點選燈泡的網頁。</p>
<p><img src="../img/tutorials/tutorial-01-04.jpg" alt=""></p>
<p>從編輯工具左側的積木選單中選擇「開發板」，將開發板放到畫面當中，填入對應的 Webduino 開發板名稱 ( Device 名稱，不要勾選串連 )，接著選擇「LED 燈」的積木，將 LED 燈的積木放到開發板積木的缺口內，腳位設定為 10 ( 因為剛剛把長腳接在 10 號腳 )。</p>
<p><img src="../img/tutorials/tutorial-01-05.jpg" alt=""></p>
<p>因為要和網頁互動，所以我們要從積木選單的最下方「網頁互動」，點選「點擊燈泡」，就會看到很多點擊網頁燈泡圖片互動的選項。</p>
<p><img src="../img/tutorials/tutorial-01-06.jpg" alt=""></p>
<p>把「點擊燈泡執行」的積木放到編輯畫面裡，代表點擊燈泡時要做些什麼事情。</p>
<p><img src="../img/tutorials/tutorial-01-07.jpg" alt=""></p>
<p>在執行的內容放入「邏輯」的積木，判斷點擊燈泡時，依據當時的狀態做出相對的反應，而我們也可以利用邏輯積木上面「藍色小齒輪」，添增邏輯選項。</p>
<p><img src="../img/tutorials/tutorial-01-08.jpg" alt=""></p>
<p>根據邏輯，判斷「當燈泡是 on」的話，點擊燈泡就會變成「off」，反之就是「on」。</p>
<p><img src="../img/tutorials/tutorial-01-09.jpg" alt=""></p>
<p>完成後點擊內嵌網頁裡的燈泡圖片，就可以輕鬆地控制 LED 燈的明暗，然而我們也可以點選「JavaScript 頁籤」，就可以看到完整的程式碼邏輯，同時也可以複製這些代碼，貼到自己的網頁原始碼當中，就可以在自己的網頁裡實現一模一樣的行為囉！
( 解答：<a href="http://blockly.webduino.io/#-K4pR8RaEF6IkiWdAYk7">http://blockly.webduino.io/#-K4pR8RaEF6IkiWdAYk7</a> )</p>
<h2>程式碼解析 (<a href="http://bin.webduino.io/duso/edit?html,output">看完整程式碼</a>、<a href="https://webduino.io/device.html">檢查連線狀態</a>)</h2>
<p>一開始先在 HTML 的 header 引入 <code>webduino-all.min.js</code>，目的在讓瀏覽器可以支援 WebComponents 以及 Webduino 所有的元件，如果是用 Blockly 編輯工具產生的程式碼，則要額外引入 <code>webduino-blockly.js</code>。</p>
<pre><code>&lt;script src=&quot;https://webduino.io/components/webduino-js/dist/webduino-all.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;http://webduinoio.github.io/webduino-blockly/webduino-blockly.js&quot;&gt;&lt;/script&gt;
</code></pre><p>接著看到 HTML 的 body 裡頭，放入一個 id 為 demo-area-02-light 的圖片區域，裡面含有兩張分別是亮起的燈泡與不亮的燈泡圖片，目的在於點選的時候，圖片也會從不亮的燈泡轉變為亮起的燈泡。</p>
<pre><code>&lt;div id=&quot;demo-area-02-light&quot; class=&quot;off&quot;&gt;
  &lt;img src=&quot;http://blockly.webduino.io/media/off.png&quot; id=&quot;demo-area-02-off&quot;&gt;
  &lt;img src=&quot;http://blockly.webduino.io/media/on.png&quot; id=&quot;demo-area-02-on&quot;&gt;
&lt;/div&gt;
</code></pre><p>控制燈泡圖片亮暗的是使用 CSS 的方式，用圖片顯示的切換 <code>display:none;</code> 來達到相關效果。</p>
<pre><code>#demo-area-02-light img{
  height:200px;
  display:none;
}
#demo-area-02-light.on #demo-area-02-on{
  display:inline-block;
}
#demo-area-02-light.off #demo-area-02-off{
  display:inline-block;
}
</code></pre><p>再來就是最重點的 javascript 部分，下面的範例程式開始先要確認開發板上線 ( 使用 <code>boardReady</code> ) 之後就可以開始進行動作，執行的方式也簡單，先設定一個名為 led 的變數，使用 <code>getLed</code> 設定腳位為 10，然後綁定圖片的點擊事件，再使用 LED 的 API 來操作。</p>
<pre><code>var led;

boardReady(&#39;&#39;, function (board) {
  board.samplingInterval = 20;
  led = getLed(board, 10);
  document.getElementById(&quot;demo-area-02-light&quot;).addEventListener(&quot;click&quot;,function(){
    if (document.getElementById(&quot;demo-area-02-light&quot;).className == &quot;on&quot;) {
      document.getElementById(&quot;demo-area-02-light&quot;).className = &quot;off&quot;;
      led.off();
    } else {
      document.getElementById(&quot;demo-area-02-light&quot;).className = &quot;on&quot;;
      led.on();
    }
  });
});
</code></pre><p>因為程式碼由 Blockly 自動生成，可能會有一些重複或累贅的程式碼，我們可以將上面這段程式碼簡化成下面這樣，目的只是把重複的 <code>document.getElementById(&quot;demo-area-02-light&quot;)</code> 變成一個變數 light 而已，就會乾淨許多。</p>
<pre><code>var led;
var light;

boardReady(&#39;&#39;, function (board) {
  board.samplingInterval = 20;
  led = getLed(board, 10);
    light = document.getElementById(&quot;demo-area-02-light&quot;);
  light.addEventListener(&quot;click&quot;,function(){
    if (light.className == &quot;on&quot;) {
      light.className = &quot;off&quot;;
      led.off();
    } else {
      light.className = &quot;on&quot;;
      led.on();
    }
  });
});
</code></pre><p>以上就是點選圖片控制 LED 燈的基本範例。
完整的範例：<a href="http://bin.webduino.io/duso/edit?html,output">http://bin.webduino.io/duso/edit?html,output</a>
解答：<a href="http://blockly.webduino.io/#-K4pR8RaEF6IkiWdAYk7">http://blockly.webduino.io/#-K4pR8RaEF6IkiWdAYk7</a></p>
<h2>更多 LED 的教學範例：</h2>
<p><a href="http://blockly.webduino.io/?lang=zh-hant&amp;page=tutorials/led-1#-Jvaz_tuEFYtNaVBi0i2">Webduino Blockly 課程 1-1：點亮 LED 燈</a>
<a href="http://blockly.webduino.io/?lang=zh-hant&amp;page=tutorials/led-2#-Jvb-r0TiTHKsL-rMGw9">Webduino Blockly 課程 1-2：點選圖片控制 LED 燈</a></p>

  </div>
  <div class="disqus">
  	<div id="disqus_thread"></div>
	</div>
	<footer>
  	<div class="logo">
			<a href="index.html"><i></i></a>
			<a href="../index.html"><i></i></a>
  	</div>
  	<h4>Copyright 2015 | All Rights Reserved. Power by Webduino.io</h4>
  	<h4>80661 高雄市前鎮區復興四路 20 號 1 樓 / 886-7-3388511</h4>
	</footer>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-62202920-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>