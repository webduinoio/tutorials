<!DOCTYPE html>
<html lang="en">
<head>  
	<meta charset="UTF-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta name="author" content="webduino.io">
  <meta name="copyright" content="webduino.io">
  <meta itemprop="name" content="webduino.io">
  <link rel="icon" href="../../img/layout/favicon.ico" type="image/x-icon">

<title>Project Example 18: Using an LED Matrix :::: Webduino = Web × Arduino</title>

<meta name="description" content="An LED matrix is basically a grid of LEDs. They are commonly seen on public transport, on train or bus station signs. Here we will be using an 8x8 LED matrix, model MAX7219, to create images and text.">

<meta itemprop="description" content="An LED matrix is basically a grid of LEDs. They are commonly seen on public transport, on train or bus station signs. Here we will be using an 8x8 LED matrix, model MAX7219, to create images and text.">

<meta property="og:description" content="An LED matrix is basically a grid of LEDs. They are commonly seen on public transport, on train or bus station signs. Here we will be using an 8x8 LED matrix, model MAX7219, to create images and text.">

<meta property="og:title" content="Project Example 18: Using an LED Matrix" >

<meta property="og:url" content="https://webduino.io/tutorials/tutorial-18-max7219.html">

<meta property="og:image" content="https://webduino.io/img/tutorials/tutorial-18-01s.jpg">

<meta itemprop="image" content="https://webduino.io/img/tutorials/tutorial-18-01s.jpg">

<script src="../../js/lib/jquery.min.js"></script>
<script src="../../js/lib/jquery.lazyload.min.js"></script>
<script src="../../js/lib/run_prettify.js"></script>
<script src="../../js/layout.js"></script>
<script src="../../js/tutorials-en.js"></script>
<script src="../../js/lib/disqus.js"></script>

<link rel="stylesheet" href="../../style/css/lib/tomorrow.css">
<link rel="stylesheet" href="../../style/css/layout.css">
<link rel="stylesheet" href="../../style/css/sub-header.css">
<link rel="stylesheet" href="../../style/css/tutorials-content.css">
<link rel="stylesheet" href="../../style/css/tutorials-en-content.css">
<link rel="stylesheet" href="../../style/css/lib/font-awesome.css">
<style>
.tutorials-content p{
	word-wrap:normal;
	word-break:normal;
}
</style>









</head>
<body>
	<header class="path-0">
		<a class="logo" href="index.html" data-name="layout-header-logo"></a>
		<div class="mobile-menu"></div>
		<div class="menu">
			<a href="index.html" class="index" data-name="layout-mobile-menu">Home</a>
			<a href="tutorials.html" class="tutorials" data-name="layout-mobile-menu">Tutorials</a>
			<a href="buy.html" class="buy" data-name="layout-mobile-men">Buy</a>
			<a href="about.html" class="about" data-name="layout-mobile-men">About us</a>
			<a href="../index.html" class="about" data-name="layout-mobile-men">中文</a>
		</div>
	</header>
	<header class="path-1">
		<a class="logo" href="../index.html"></a>
		<div class="mobile-menu"></div>
		<div class="menu">
			<a href="../index.html" class="index" data-name="layout-menu">Home</a>
			<a href="../tutorials.html" class="tutorials" data-name="layout-menu">Tutorials</a>
			<a href="../buy.html" class="buy" data-name="layout-menu">Buy</a>			<a href="../about.html" class="about" data-name="layout-menu">About us</a>
			<a href="../../index.html" class="about" data-name="layout-mobile-men">中文</a>
		</div>
	</header>
	  




	<div class="tutorials-content">
		<div class="banner">
		</div> 

<h1>Project Example 18: Using an LED Matrix</h1>
<p>An LED matrix is basically a grid of LEDs. They are commonly seen on public transport, on train or bus station signs. Here we will be using an 8x8 LED matrix, model MAX7219, to create images and text.</p>
<!-- <div class="buy-this">
    <span>LED 點矩陣相關套件：<a href="https://webduino.io/buy/webduino-package-plus.html" target="_blank">Webduino 基本套件 Plus ( 支援馬克 1 號、Fly )</a></span>
    <span>Webduino 開發板：<a href="https://webduino.io/buy/component-webduino-v1.html" target="_blank">Webduino 馬克一號</a>、<a href="https://webduino.io/buy/component-webduino-fly.html" target="_blank">Webduino Fly</a>、<a href="https://webduino.io/buy/component-webduino-uno-fly.html" target="_blank">Webduino Fly + Arduino UNO</a></span>
</div> -->
<h2>Video Tutorial</h2>
<p>Check the video tutorial here:
<iframe class="youtube" src="https://www.youtube.com/embed/nY5zBP7BLdo" frameborder="0" allowfullscreen></iframe></p>
<h2>Wiring and Practice</h2>
<p>The MAX7219 LED Matrix has 5 pins, VCC, GND, DIN (DOUT), CS (Chip Selection), and CLK (clock). For this tutorial, connect DIN to 7, CS to 8, CLK to 9, VCC to VCC (make sure it is not connected to 3.3V), and GND to GND.</p>
<p>Webduino Mark 1 Circuit diagram:</p>
<p><img src="../../img/tutorials/tutorial-18-02.jpg" alt=""></p>
<p>Webduino Fly Circuit diagram:</p>
<p><img src="../../img/tutorials/tutorial-18-02-fly.jpg" alt=""></p>
<p>Reference image:</p>
<p><img src="../../img/tutorials/tutorial-18-03.jpg" alt=""></p>
<p><img src="../../img/tutorials/tutorial-18-04.jpg" alt=""></p>
<!-- <div class="buy-this">
    <span>LED 點矩陣相關套件：<a href="https://webduino.io/buy/webduino-package-plus.html" target="_blank">Webduino 基本套件 Plus ( 支援馬克 1 號、Fly )</a></span>
    <span>Webduino 開發板：<a href="https://webduino.io/buy/component-webduino-v1.html" target="_blank">Webduino 馬克一號</a>、<a href="https://webduino.io/buy/component-webduino-fly.html" target="_blank">Webduino Fly</a>、<a href="https://webduino.io/buy/component-webduino-uno-fly.html" target="_blank">Webduino Fly + Arduino UNO</a></span>
</div> -->
<h2>Instructions for using the Webduino Blockly</h2>
<p>Open the <a href="https://blockly.webduino.io/?lang=en">Webduino Blockly editor</a>. We will be using &quot;Click Button&quot; to show different images or animations using the LED Matrix. So, click on &quot;Web Demo Area&quot; on the upper right of the screen and choose &quot;Click button&quot; from the drop down menu. (Please check the <a href="https://webduino.io/tutorials/info-07-arduino-ino.html">Arduino Firmware Download / Burn</a> tutorial, and choose the driver with MaxMatrix)</p>
<p><img src="../../img/tutorials/en/tutorial-18-05.jpg" alt=""></p>
<p>Place a &quot;Board&quot; into the workspace and fill in the name of your Webduino board. Place an &quot;LED matrix&quot; block in the stack and set it to &quot;matrix&quot;, and set the pins to 7, 8 and 9.</p>
<p><img src="../../img/tutorials/en/tutorial-18-06.jpg" alt=""></p>
<p>Next, place a &quot;Click button / do&quot; block from the &quot;Web Demo&quot; menu into the stack. When you click on button 1, the LED matrix will show an image encoded by <strong>8 sets of 2 hexadecimal digits. You can use more but they must come in pairs.</strong> If you are using an image to create a code, <strong>right click on the block and select &quot;help&quot;</strong>. This will bring you to the code generator ( <a href="http://webduinoio.github.io/demo/max7219/">http://webduinoio.github.io/demo/max7219/</a> ).</p>
<p><img src="../../img/tutorials/en/tutorial-18-07.jpg" alt=""></p>
<p>In the LED matrix code generator, you can click on the image of an LED to draw an icon, or you can click on the drop-down menu to load pre-set text, numbers, or icons. Click &quot;Copy&quot; when you&#39;re done and paste it back into the image code block in the Blockly editor. You can also program the website to interact directly with your LED matrix. Just fill in your device&#39;s ID on the top of the page where it says &quot;Board:&quot;. Then the image you draw will show up on the LED matrix. ( Check out the video tutorial here: <a href="https://www.youtube.com/watch?v=U3jEqpWve8I">https://www.youtube.com/watch?v=U3jEqpWve8I</a></p>
<p><img src="../../img/tutorials/tutorial-18-08.jpg" alt=""></p>
<p>Now we will set up the actions for button 2. We use the &quot;News ticker&quot; block to program the icon to go left or right. Because the code can be more than 16 hexadecimal letters or numbers <strong>(always in pairs of 2)</strong>, we can draw a very long line of icons and use the LED matrix to create a marquee. (Copy and paste this following code into the Blockly editor and run it, see what happens! : &quot;0c1e3e7c3e1e0c000c12224422120c00&quot;)</p>
<p><img src="../../img/tutorials/en/tutorial-18-09.jpg" alt=""></p>
<p>Before we run our code we have an important step, since the marquee uses an animation like effect, we will need to stop the marquee from moving when we change buttons. So, in each &quot;Click button / do&quot; stack  place a &quot;Stop / animate&quot; block to stop the previous animation when we click the other button.</p>
<p><img src="../../img/tutorials/en/tutorial-18-10.jpg" alt=""></p>
<p>The marquee we just made can only go left or right. If we try to make more complex animations, we will need to create a &quot;List&quot; using a &quot;Create list with&quot; block connected to button 3. Use the &quot;create list with&quot; block to play 3 different animations. The 4th button will turn the LED matrix off.</p>
<p><img src="../../img/tutorials/en/tutorial-18-11.jpg" alt=""></p>
<p>Once you&#39;ve created this stack, check if the board is online (click &quot;<a href="https://webduino.io/device.html">Check Device Status</a>&quot;) and click on the red execution button &quot;Run Blocks&quot;, click on the different buttons and you will see the LED matrix light up, showing different icons or animations. 
Solution: <a href="https://blockly.webduino.io/?lang=en#-KZQR4lZyEsYPTKK1OYs">https://blockly.webduino.io/?lang=en#-KZQR4lZyEsYPTKK1OYs</a></p>
<h2>Code Explanation (<a href="http://bin.webduino.io/liqut/edit?html,css,js,output">Check Webduino Bin</a>, <a href="https://webduino.io/device.html">Check Device Status</a>)</h2>
<p>Include <code>webduino-all.min.js</code> in the header of your html files in order to support all of the Webduino&#39;s components. If the codes are generated by Webduino Blockly, you also have to include <code>webduino-blockly.js</code> in your files.</p>
<pre><code>&lt;script src=&quot;https://webduino.io/components/webduino-js/dist/webduino-all.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://webduinoio.github.io/webduino-blockly/webduino-blockly.js&quot;&gt;&lt;/script&gt;
</code></pre><p>There are 5 different buttons inside the HTML code so you can control the size and the look of the buttons here.</p>
<pre><code>&lt;button id=&quot;demo-area-05-btn1&quot; class=&quot;db5&quot;&gt;按鈕 1&lt;/button&gt;
&lt;button id=&quot;demo-area-05-btn2&quot; class=&quot;db5&quot;&gt;按鈕 2&lt;/button&gt;
&lt;button id=&quot;demo-area-05-btn3&quot; class=&quot;db5&quot;&gt;按鈕 3&lt;/button&gt;
&lt;button id=&quot;demo-area-05-btn4&quot; class=&quot;db5&quot;&gt;按鈕 4&lt;/button&gt;
&lt;button id=&quot;demo-area-05-btn5&quot; class=&quot;db5&quot;&gt;按鈕 5&lt;/button&gt;
</code></pre><p>As for JavaScript, the method to stop the animation is <code>animateStop()</code> the way to show an image is <code>on</code>, and the animations are made by using <code>animate</code> to play a list, the list has all the codes we just filled in, such as <code>[&#39;080c0effff0e0c08&#39;, &#39;183c7eff18181818&#39;, &#39;103070ffff707010&#39;]</code>. As for the marquee, here we use <code>split</code>, <code>splice</code> and <code>push</code> to change them into a matrix and play with <code>animate</code> to achieve this effect. </p>
<pre><code>var matrix;

boardReady(&#39;&#39;, function (board) {
  board.samplingInterval = 500;
  matrix = getMax7219(board, 7, 8, 9);
  document.getElementById(&quot;demo-area-05-btn1&quot;).addEventListener(&quot;click&quot;,function(){
    matrix.animateStop();
    matrix.on(&#39;1026464040462610&#39;);
  });
  document.getElementById(&quot;demo-area-05-btn2&quot;).addEventListener(&quot;click&quot;,function(){
    matrix.animateStop();
    var a = &#39;0c1e3e7c3e1e0c000c12224422120c00&#39;;
    var b = a.split(&quot;&quot;);
    var d = [];
    for(var i=0; i&lt;a.length/2; i++){
      aa(i);
    }
    function aa(j){
      var c=b.splice(0,2);
      b.push(c[0],c[1]);
      d[j] = b.join(&quot;&quot;);
    }
    console.log(d);
    matrix.animate(d,100);
  });
  document.getElementById(&quot;demo-area-05-btn3&quot;).addEventListener(&quot;click&quot;,function(){
    matrix.animateStop();
    var varData = [&#39;080c0effff0e0c08&#39;, &#39;183c7eff18181818&#39;, &#39;103070ffff707010&#39;];
    matrix.animate(varData,100);
  });
  document.getElementById(&quot;demo-area-05-btn4&quot;).addEventListener(&quot;click&quot;,function(){
    matrix.off();
  });
});
</code></pre><p>This is how you use an LED matrix to create an icon or animation by clicking on different buttons.<br>Webduino Bin: <a href="http://bin.webduino.io/hajuv/edit?html,css,js,output">http://bin.webduino.io/hajuv/edit?html,css,js,output</a><br>Stack setup: <a href="https://blockly.webduino.io/?lang=en#-KZQSIW_ewp3JaCWXlqE">https://blockly.webduino.io/?lang=en#-KZQSIW_ewp3JaCWXlqE</a></p>
<!-- ## LED 點矩陣的延伸教學：

[Webduino Blockly 課程 13-1：點矩陣顯示圖形](https://blockly.webduino.io/?lang=zh-hant&page=tutorials/max7219-1#-K0opTxaF_E2ncQkc6JC)  
[Webduino Blockly 課程 13-2：點矩陣製作動畫](https://blockly.webduino.io/?lang=zh-hant&page=tutorials/max7219-2#-K0os-k9zK8b2uN9iOMK)  
[Webduino Blockly 課程 13-3：點矩陣跑馬燈效果](https://blockly.webduino.io/?lang=zh-hant&page=tutorials/max7219-3#-K0ou2rmQYkM46jiooWV)    
[Webduino Blockly 課程 13-4：點選按鈕切換點矩陣效果](https://blockly.webduino.io/?lang=zh-hant&page=tutorials/max7219-4#-K0p0BGifwqYvndb35GK)    
[Webduino Blockly 課程 13-5：利用超音波傳感器改變點矩陣圖形](https://blockly.webduino.io/?lang=zh-hant&page=tutorials/max7219-5#-K0p4uO2W-zcVOU7FF0A) 

<div class="buy-this">
    <span>LED 點矩陣相關套件：<a href="https://webduino.io/buy/webduino-package-plus.html" target="_blank">Webduino 基本套件 Plus ( 支援馬克 1 號、Fly )</a></span>
    <span>Webduino 開發板：<a href="https://webduino.io/buy/component-webduino-v1.html" target="_blank">Webduino 馬克一號</a>、<a href="https://webduino.io/buy/component-webduino-fly.html" target="_blank">Webduino Fly</a>、<a href="https://webduino.io/buy/component-webduino-uno-fly.html" target="_blank">Webduino Fly + Arduino UNO</a></span>
</div>  -->


<a class="arrow arrow-r pre-next-button" data-name="pre-next-arrow"></a>
<a class="arrow arrow-l pre-next-button" data-name="pre-next-arrow"></a>
<div class="pre-next">
  <div>
    <div class="pre"></div>
    <div class="next"></div>
  </div>
</div>
<div class="note-chicken"></div>
<div class="others">
  <i class="fa fa-times note-close-btn"></i>
  <h5>More information : </h5>
  <div class="others-link otehrs-read">
    1. Tutorials : <a href="https://webduino.io/en/tutorials.html" data-name="noteLink">https://webduino.io/tutorials.html</a>
    <br/> 2. Blockly : <a href="https://goo.gl/Y8sRkl" data-name="noteLink">https://goo.gl/Y8sRkl</a>
    <br/> 3. Products : <a href="https://webduino.io/buy.html" target="_blank" data-name="noteLink">https://webduino.io/buy.html <i class="fa fa-share-square-o"></i></a>
    <br/> 4. Store : <a href="http://goo.gl/0Dj9ip" target="_blank" data-name="noteLink">http://goo.gl/0Dj9ip <i class="fa fa-share-square-o"></i></a>
  </div>
</div>



  </div>
  <div class="disqus">
  	<div id="disqus_thread"></div>
	</div>
	<footer>
  	<div class="logo">
			<a href="index.html" data-name="layout-footer-logo"><i></i></a>
			<a href="../index.html" data-name="layout-footer-logo"><i></i></a>
  	</div>
  	<h4>Copyright 2017 | All Rights Reserved. Powered by Webduino</h4>
  	<h4>2F-6, No.12, Fuxing 4th Rd., Qianzhen Dist., Kaohsiung City 806, Taiwan (R.O.C.) / 886-7-3388511</h4>
	</footer>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-62202920-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>